typeof Object.create!="function"&&(Object.create=function(n){function t(){}return t.prototype=n,new t}),function(n,t,i){var r={init:function(t,i){var r=this;r.$elem=n(i);r.options=n.extend({},n.fn.owlCarousel.options,r.$elem.data(),t);r.userOptions=t;r.loadContent()},loadContent:function(){function r(n){var i,r="";if(typeof t.options.jsonSuccess=="function")t.options.jsonSuccess.apply(this,[n]);else{for(i in n.owl)n.owl.hasOwnProperty(i)&&(r+=n.owl[i].item);t.$elem.html(r)}t.logIn()}var t=this,i;typeof t.options.beforeInit=="function"&&t.options.beforeInit.apply(this,[t.$elem]);typeof t.options.jsonPath=="string"?(i=t.options.jsonPath,n.getJSON(i,r)):t.logIn()},logIn:function(){var n=this;n.$elem.data("owl-originalStyles",n.$elem.attr("style"));n.$elem.data("owl-originalClasses",n.$elem.attr("class"));n.$elem.css({opacity:0});n.orignalItems=n.options.items;n.checkBrowser();n.wrapperWidth=0;n.checkVisible=null;n.setVars()},setVars:function(){var n=this;if(n.$elem.children().length===0)return!1;n.baseClass();n.eventTypes();n.$userItems=n.$elem.children();n.itemsAmount=n.$userItems.length;n.wrapItems();n.$owlItems=n.$elem.find(".owl-item");n.$owlWrapper=n.$elem.find(".owl-wrapper");n.playDirection="next";n.prevItem=0;n.prevArr=[0];n.currentItem=0;n.customEvents();n.onStartup()},onStartup:function(){var n=this;n.updateItems();n.calculateAll();n.buildControls();n.updateControls();n.response();n.moveEvents();n.stopOnHover();n.owlStatus();n.options.transitionStyle!==!1&&n.transitionTypes(n.options.transitionStyle);n.options.autoPlay===!0&&(n.options.autoPlay=5e3);n.play();n.$elem.find(".owl-wrapper").css("display","block");n.$elem.is(":visible")?n.$elem.css("opacity",1):n.watchVisibility();n.onstartup=!1;n.eachMoveUpdate();typeof n.options.afterInit=="function"&&n.options.afterInit.apply(this,[n.$elem])},eachMoveUpdate:function(){var n=this;n.options.lazyLoad===!0&&n.lazyLoad();n.options.autoHeight===!0&&n.autoHeight();n.onVisibleItems();typeof n.options.afterAction=="function"&&n.options.afterAction.apply(this,[n.$elem])},updateVars:function(){var n=this;typeof n.options.beforeUpdate=="function"&&n.options.beforeUpdate.apply(this,[n.$elem]);n.watchVisibility();n.updateItems();n.calculateAll();n.updatePosition();n.updateControls();n.eachMoveUpdate();typeof n.options.afterUpdate=="function"&&n.options.afterUpdate.apply(this,[n.$elem])},reload:function(){var n=this;t.setTimeout(function(){n.updateVars()},0)},watchVisibility:function(){var n=this;if(n.$elem.is(":visible")===!1)n.$elem.css({opacity:0}),t.clearInterval(n.autoPlayInterval),t.clearInterval(n.checkVisible);else return!1;n.checkVisible=t.setInterval(function(){n.$elem.is(":visible")&&(n.reload(),n.$elem.animate({opacity:1},200),t.clearInterval(n.checkVisible))},500)},wrapItems:function(){var n=this;n.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"><\/div>');n.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');n.wrapperOuter=n.$elem.find(".owl-wrapper-outer");n.$elem.css("display","block")},baseClass:function(){var n=this,t=n.$elem.hasClass(n.options.baseClass),i=n.$elem.hasClass(n.options.theme);t||n.$elem.addClass(n.options.baseClass);i||n.$elem.addClass(n.options.theme)},updateItems:function(){var t=this,i,r;if(t.options.responsive===!1)return!1;if(t.options.singleItem===!0)return t.options.items=t.orignalItems=1,t.options.itemsCustom=!1,t.options.itemsDesktop=!1,t.options.itemsDesktopSmall=!1,t.options.itemsTablet=!1,t.options.itemsTabletSmall=!1,t.options.itemsMobile=!1,!1;if(i=n(t.options.responsiveBaseWidth).width(),i>(t.options.itemsDesktop[0]||t.orignalItems)&&(t.options.items=t.orignalItems),t.options.itemsCustom!==!1)for(t.options.itemsCustom.sort(function(n,t){return n[0]-t[0]}),r=0;r<t.options.itemsCustom.length;r+=1)t.options.itemsCustom[r][0]<=i&&(t.options.items=t.options.itemsCustom[r][1]);else i<=t.options.itemsDesktop[0]&&t.options.itemsDesktop!==!1&&(t.options.items=t.options.itemsDesktop[1]),i<=t.options.itemsDesktopSmall[0]&&t.options.itemsDesktopSmall!==!1&&(t.options.items=t.options.itemsDesktopSmall[1]),i<=t.options.itemsTablet[0]&&t.options.itemsTablet!==!1&&(t.options.items=t.options.itemsTablet[1]),i<=t.options.itemsTabletSmall[0]&&t.options.itemsTabletSmall!==!1&&(t.options.items=t.options.itemsTabletSmall[1]),i<=t.options.itemsMobile[0]&&t.options.itemsMobile!==!1&&(t.options.items=t.options.itemsMobile[1]);t.options.items>t.itemsAmount&&t.options.itemsScaleUp===!0&&(t.options.items=t.itemsAmount)},response:function(){var i=this,u,r;if(i.options.responsive!==!0)return!1;r=n(t).width();i.resizer=function(){n(t).width()!==r&&(i.options.autoPlay!==!1&&t.clearInterval(i.autoPlayInterval),t.clearTimeout(u),u=t.setTimeout(function(){r=n(t).width();i.updateVars()},i.options.responsiveRefreshRate))};n(t).resize(i.resizer)},updatePosition:function(){var n=this;n.jumpTo(n.currentItem);n.options.autoPlay!==!1&&n.checkAp()},appendItemsSizes:function(){var t=this,i=0,r=t.itemsAmount-t.options.items;t.$owlItems.each(function(u){var f=n(this);f.css({width:t.itemWidth}).data("owl-item",Number(u));(u%t.options.items==0||u===r)&&(u>r||(i+=1));f.data("owl-roundPages",i)})},appendWrapperSizes:function(){var n=this,t=n.$owlItems.length*n.itemWidth;n.$owlWrapper.css({width:t*2,left:0});n.appendItemsSizes()},calculateAll:function(){var n=this;n.calculateWidth();n.appendWrapperSizes();n.loops();n.max()},calculateWidth:function(){var n=this;n.itemWidth=Math.round(n.$elem.width()/n.options.items)},max:function(){var n=this,t=(n.itemsAmount*n.itemWidth-n.options.items*n.itemWidth)*-1;return n.options.items>n.itemsAmount?(n.maximumItem=0,t=0,n.maximumPixels=0):(n.maximumItem=n.itemsAmount-n.options.items,n.maximumPixels=t),t},min:function(){return 0},loops:function(){var t=this,r=0,f=0,i,e,u;for(t.positionsInArray=[0],t.pagesInArray=[],i=0;i<t.itemsAmount;i+=1)f+=t.itemWidth,t.positionsInArray.push(-f),t.options.scrollPerPage===!0&&(e=n(t.$owlItems[i]),u=e.data("owl-roundPages"),u!==r&&(t.pagesInArray[r]=t.positionsInArray[i],r=u))},buildControls:function(){var t=this;(t.options.navigation===!0||t.options.pagination===!0)&&(t.owlControls=n('<div class="owl-controls"/>').toggleClass("clickable",!t.browser.isTouch).appendTo(t.$elem));t.options.pagination===!0&&t.buildPagination();t.options.navigation===!0&&t.buildButtons()},buildButtons:function(){var t=this,i=n('<div class="owl-buttons"/>');t.owlControls.append(i);t.buttonPrev=n("<div/>",{"class":"owl-prev",html:t.options.navigationText[0]||""});t.buttonNext=n("<div/>",{"class":"owl-next",html:t.options.navigationText[1]||""});i.append(t.buttonPrev).append(t.buttonNext);i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(n){n.preventDefault()});i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault();n(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=n('<div class="owl-pagination"/>');t.owlControls.append(t.paginationWrapper);t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault();Number(n(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(n(this).data("owl-page")),!0)})},updatePagination:function(){var t=this,u,f,e,i,r,o;if(t.options.pagination===!1)return!1;for(t.paginationWrapper.html(""),u=0,f=t.itemsAmount-t.itemsAmount%t.options.items,i=0;i<t.itemsAmount;i+=1)i%t.options.items==0&&(u+=1,f===i&&(e=t.itemsAmount-t.options.items),r=n("<div/>",{"class":"owl-page"}),o=n("<span><\/span>",{text:t.options.paginationNumbers===!0?u:"","class":t.options.paginationNumbers===!0?"owl-numbers":""}),r.append(o),r.data("owl-page",f===i?e:i),r.data("owl-roundPages",u),t.paginationWrapper.append(r));t.checkPagination()},checkPagination:function(){var t=this;if(t.options.pagination===!1)return!1;t.paginationWrapper.find(".owl-page").each(function(){n(this).data("owl-roundPages")===n(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),n(this).addClass("active"))})},checkNavigation:function(){var n=this;if(n.options.navigation===!1)return!1;n.options.rewindNav===!1&&(n.currentItem===0&&n.maximumItem===0?(n.buttonPrev.addClass("disabled"),n.buttonNext.addClass("disabled")):n.currentItem===0&&n.maximumItem!==0?(n.buttonPrev.addClass("disabled"),n.buttonNext.removeClass("disabled")):n.currentItem===n.maximumItem?(n.buttonPrev.removeClass("disabled"),n.buttonNext.addClass("disabled")):n.currentItem!==0&&n.currentItem!==n.maximumItem&&(n.buttonPrev.removeClass("disabled"),n.buttonNext.removeClass("disabled")))},updateControls:function(){var n=this;n.updatePagination();n.checkNavigation();n.owlControls&&(n.options.items>=n.itemsAmount?n.owlControls.hide():n.owlControls.show())},destroyControls:function(){var n=this;n.owlControls&&n.owlControls.remove()},next:function(n){var t=this;if(t.isTransition)return!1;if(t.currentItem+=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem>t.maximumItem+(t.options.scrollPerPage===!0?t.options.items-1:0))if(t.options.rewindNav===!0)t.currentItem=0,n="rewind";else return t.currentItem=t.maximumItem,!1;t.goTo(t.currentItem,n)},prev:function(n){var t=this;if(t.isTransition)return!1;if(t.options.scrollPerPage===!0&&t.currentItem>0&&t.currentItem<t.options.items?t.currentItem=0:t.currentItem-=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem<0)if(t.options.rewindNav===!0)t.currentItem=t.maximumItem,n="rewind";else return t.currentItem=0,!1;t.goTo(t.currentItem,n)},goTo:function(n,i,r){var u=this,f;if(u.isTransition)return!1;if(typeof u.options.beforeMove=="function"&&u.options.beforeMove.apply(this,[u.$elem]),n>=u.maximumItem?n=u.maximumItem:n<=0&&(n=0),u.currentItem=u.owl.currentItem=n,u.options.transitionStyle!==!1&&r!=="drag"&&u.options.items===1&&u.browser.support3d===!0)return u.swapSpeed(0),u.browser.support3d===!0?u.transition3d(u.positionsInArray[n]):u.css2slide(u.positionsInArray[n],1),u.afterGo(),u.singleItemTransition(),!1;f=u.positionsInArray[n];u.browser.support3d===!0?(u.isCss3Finish=!1,i===!0?(u.swapSpeed("paginationSpeed"),t.setTimeout(function(){u.isCss3Finish=!0},u.options.paginationSpeed)):i==="rewind"?(u.swapSpeed(u.options.rewindSpeed),t.setTimeout(function(){u.isCss3Finish=!0},u.options.rewindSpeed)):(u.swapSpeed("slideSpeed"),t.setTimeout(function(){u.isCss3Finish=!0},u.options.slideSpeed)),u.transition3d(f)):i===!0?u.css2slide(f,u.options.paginationSpeed):i==="rewind"?u.css2slide(f,u.options.rewindSpeed):u.css2slide(f,u.options.slideSpeed);u.afterGo()},jumpTo:function(n){var t=this;typeof t.options.beforeMove=="function"&&t.options.beforeMove.apply(this,[t.$elem]);n>=t.maximumItem||n===-1?n=t.maximumItem:n<=0&&(n=0);t.swapSpeed(0);t.browser.support3d===!0?t.transition3d(t.positionsInArray[n]):t.css2slide(t.positionsInArray[n],1);t.currentItem=t.owl.currentItem=n;t.afterGo()},afterGo:function(){var n=this;n.prevArr.push(n.currentItem);n.prevItem=n.owl.prevItem=n.prevArr[n.prevArr.length-2];n.prevArr.shift(0);n.prevItem!==n.currentItem&&(n.checkPagination(),n.checkNavigation(),n.eachMoveUpdate(),n.options.autoPlay!==!1&&n.checkAp());typeof n.options.afterMove=="function"&&n.prevItem!==n.currentItem&&n.options.afterMove.apply(this,[n.$elem])},stop:function(){var n=this;n.apStatus="stop";t.clearInterval(n.autoPlayInterval)},checkAp:function(){var n=this;n.apStatus!=="stop"&&n.play()},play:function(){var n=this;if(n.apStatus="play",n.options.autoPlay===!1)return!1;t.clearInterval(n.autoPlayInterval);n.autoPlayInterval=t.setInterval(function(){n.next(!0)},n.options.autoPlay)},swapSpeed:function(n){var t=this;n==="slideSpeed"?t.$owlWrapper.css(t.addCssSpeed(t.options.slideSpeed)):n==="paginationSpeed"?t.$owlWrapper.css(t.addCssSpeed(t.options.paginationSpeed)):typeof n!="string"&&t.$owlWrapper.css(t.addCssSpeed(n))},addCssSpeed:function(n){return{"-webkit-transition":"all "+n+"ms ease","-moz-transition":"all "+n+"ms ease","-o-transition":"all "+n+"ms ease",transition:"all "+n+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(n){return{"-webkit-transform":"translate3d("+n+"px, 0px, 0px)","-moz-transform":"translate3d("+n+"px, 0px, 0px)","-o-transform":"translate3d("+n+"px, 0px, 0px)","-ms-transform":"translate3d("+n+"px, 0px, 0px)",transform:"translate3d("+n+"px, 0px,0px)"}},transition3d:function(n){var t=this;t.$owlWrapper.css(t.doTranslate(n))},css2move:function(n){var t=this;t.$owlWrapper.css({left:n})},css2slide:function(n,t){var i=this;i.isCssFinish=!1;i.$owlWrapper.stop(!0,!0).animate({left:n},{duration:t||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var s=this,n="translate3d(0px, 0px, 0px)",u=i.createElement("div"),f,r,e,o;u.style.cssText="  -moz-transform:"+n+"; -ms-transform:"+n+"; -o-transform:"+n+"; -webkit-transform:"+n+"; transform:"+n;f=/translate3d\(0px, 0px, 0px\)/g;r=u.style.cssText.match(f);e=r!==null&&r.length===1;o="ontouchstart"in t||t.navigator.msMaxTouchPoints;s.browser={support3d:e,isTouch:o}},moveEvents:function(){var n=this;(n.options.mouseDrag!==!1||n.options.touchDrag!==!1)&&(n.gestures(),n.disabledEvents())},eventTypes:function(){var n=this,t=["s","e","x"];n.ev_types={};n.options.mouseDrag===!0&&n.options.touchDrag===!0?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:n.options.mouseDrag===!1&&n.options.touchDrag===!0?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:n.options.mouseDrag===!0&&n.options.touchDrag===!1&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]);n.ev_types.start=t[0];n.ev_types.move=t[1];n.ev_types.end=t[2]},disabledEvents:function(){var t=this;t.$elem.on("dragstart.owl",function(n){n.preventDefault()});t.$elem.on("mousedown.disableTextSelect",function(t){return n(t.target).is("input, textarea, select, option")})},gestures:function(){function f(n){if(n.touches!==undefined)return{x:n.touches[0].pageX,y:n.touches[0].pageY};if(n.touches===undefined){if(n.pageX!==undefined)return{x:n.pageX,y:n.pageY};if(n.pageX===undefined)return{x:n.clientX,y:n.clientY}}}function e(t){if(t==="on"){n(i).on(r.ev_types.move,s);n(i).on(r.ev_types.end,h)}else t==="off"&&(n(i).off(r.ev_types.move),n(i).off(r.ev_types.end))}function o(i){var o=i.originalEvent||i||t.event,s;if(o.which===3)return!1;if(!(r.itemsAmount<=r.options.items)){if(r.isCssFinish===!1&&!r.options.dragBeforeAnimFinish||r.isCss3Finish===!1&&!r.options.dragBeforeAnimFinish)return!1;r.options.autoPlay!==!1&&t.clearInterval(r.autoPlayInterval);r.browser.isTouch===!0||r.$owlWrapper.hasClass("grabbing")||r.$owlWrapper.addClass("grabbing");r.newPosX=0;r.newRelativeX=0;n(this).css(r.removeTransition());s=n(this).position();u.relativePos=s.left;u.offsetX=f(o).x-s.left;u.offsetY=f(o).y-s.top;e("on");u.sliding=!1;u.targetElement=o.target||o.srcElement}}function s(e){var o=e.originalEvent||e||t.event,s,h;r.newPosX=f(o).x-u.offsetX;r.newPosY=f(o).y-u.offsetY;r.newRelativeX=r.newPosX-u.relativePos;typeof r.options.startDragging=="function"&&u.dragging!==!0&&r.newRelativeX!==0&&(u.dragging=!0,r.options.startDragging.apply(r,[r.$elem]));(r.newRelativeX>8||r.newRelativeX<-8)&&r.browser.isTouch===!0&&(o.preventDefault!==undefined?o.preventDefault():o.returnValue=!1,u.sliding=!0);(r.newPosY>10||r.newPosY<-10)&&u.sliding===!1&&n(i).off("touchmove.owl");s=function(){return r.newRelativeX/5};h=function(){return r.maximumPixels+r.newRelativeX/5};r.newPosX=Math.max(Math.min(r.newPosX,s()),h());r.browser.support3d===!0?r.transition3d(r.newPosX):r.css2move(r.newPosX)}function h(i){var f=i.originalEvent||i||t.event,s,o,h;if(f.target=f.target||f.srcElement,u.dragging=!1,r.browser.isTouch!==!0&&r.$owlWrapper.removeClass("grabbing"),r.dragDirection=r.newRelativeX<0?r.owl.dragDirection="left":r.owl.dragDirection="right",r.newRelativeX!==0&&(s=r.getNewPosition(),r.goTo(s,!1,"drag"),u.targetElement===f.target&&r.browser.isTouch!==!0)){n(f.target).on("click.disable",function(t){t.stopImmediatePropagation();t.stopPropagation();t.preventDefault();n(t.target).off("click.disable")});o=n._data(f.target,"events").click;h=o.pop();o.splice(0,0,h)}e("off")}var r=this,u={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};r.isCssFinish=!0;r.$elem.on(r.ev_types.start,".owl-wrapper",o)},getNewPosition:function(){var n=this,t=n.closestItem();return t>n.maximumItem?(n.currentItem=n.maximumItem,t=n.maximumItem):n.newPosX>=0&&(t=0,n.currentItem=0),t},closestItem:function(){var t=this,i=t.options.scrollPerPage===!0?t.pagesInArray:t.positionsInArray,u=t.newPosX,r=null;return n.each(i,function(f,e){u-t.itemWidth/20>i[f+1]&&u-t.itemWidth/20<e&&t.moveDirection()==="left"?(r=e,t.currentItem=t.options.scrollPerPage===!0?n.inArray(r,t.positionsInArray):f):u+t.itemWidth/20<e&&u+t.itemWidth/20>(i[f+1]||i[f]-t.itemWidth)&&t.moveDirection()==="right"&&(t.options.scrollPerPage===!0?(r=i[f+1]||i[i.length-1],t.currentItem=n.inArray(r,t.positionsInArray)):(r=i[f+1],t.currentItem=f+1))}),t.currentItem},moveDirection:function(){var n=this,t;return n.newRelativeX<0?(t="right",n.playDirection="next"):(t="left",n.playDirection="prev"),t},customEvents:function(){var n=this;n.$elem.on("owl.next",function(){n.next()});n.$elem.on("owl.prev",function(){n.prev()});n.$elem.on("owl.play",function(t,i){n.options.autoPlay=i;n.play();n.hoverStatus="play"});n.$elem.on("owl.stop",function(){n.stop();n.hoverStatus="stop"});n.$elem.on("owl.goTo",function(t,i){n.goTo(i)});n.$elem.on("owl.jumpTo",function(t,i){n.jumpTo(i)})},stopOnHover:function(){var n=this;if(n.options.stopOnHover===!0&&n.browser.isTouch!==!0&&n.options.autoPlay!==!1){n.$elem.on("mouseover",function(){n.stop()});n.$elem.on("mouseout",function(){n.hoverStatus!=="stop"&&n.play()})}},lazyLoad:function(){var t=this,u,i,f,r,e;if(t.options.lazyLoad===!1)return!1;for(u=0;u<t.itemsAmount;u+=1)if(i=n(t.$owlItems[u]),i.data("owl-loaded")!=="loaded"){if(f=i.data("owl-item"),r=i.find(".lazyOwl"),typeof r.data("src")!="string"){i.data("owl-loaded","loaded");continue}i.data("owl-loaded")===undefined&&(r.hide(),i.addClass("loading").data("owl-loaded","checked"));e=t.options.lazyFollow===!0?f>=t.currentItem:!0;e&&f<t.currentItem+t.options.items&&r.length&&t.lazyPreload(i,r)}},lazyPreload:function(n,i){function e(){n.data("owl-loaded","loaded").removeClass("loading");i.removeAttr("data-src");r.options.lazyEffect==="fade"?i.fadeIn(400):i.show();typeof r.options.afterLazyLoad=="function"&&r.options.afterLazyLoad.apply(this,[r.$elem])}function o(){u+=1;r.completeImg(i.get(0))||f===!0?e():u<=100?t.setTimeout(o,100):e()}var r=this,u=0,f;i.prop("tagName")==="DIV"?(i.css("background-image","url("+i.data("src")+")"),f=!0):i[0].src=i.data("src");o()},autoHeight:function(){function f(){var r=n(i.$owlItems[i.currentItem]).height();i.wrapperOuter.css("height",r+"px");i.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){i.wrapperOuter.addClass("autoHeight")},0)}function e(){r+=1;i.completeImg(u.get(0))?f():r<=100?t.setTimeout(e,100):i.wrapperOuter.css("height","")}var i=this,u=n(i.$owlItems[i.currentItem]).find("img"),r;u.get(0)!==undefined?(r=0,e()):f()},completeImg:function(n){var t;return n.complete?(t=typeof n.naturalWidth,t!=="undefined"&&n.naturalWidth===0)?!1:!0:!1},onVisibleItems:function(){var t=this,i;for(t.options.addClassActive===!0&&t.$owlItems.removeClass("active"),t.visibleItems=[],i=t.currentItem;i<t.currentItem+t.options.items;i+=1)t.visibleItems.push(i),t.options.addClassActive===!0&&n(t.$owlItems[i]).addClass("active");t.owl.visibleItems=t.visibleItems},transitionTypes:function(n){var t=this;t.outClass="owl-"+n+"-out";t.inClass="owl-"+n+"-in"},singleItemTransition:function(){function s(n){return{position:"relative",left:n+"px"}}var n=this,f=n.outClass,e=n.inClass,i=n.$owlItems.eq(n.currentItem),r=n.$owlItems.eq(n.prevItem),o=Math.abs(n.positionsInArray[n.currentItem])+n.positionsInArray[n.prevItem],u=Math.abs(n.positionsInArray[n.currentItem])+n.itemWidth/2,t="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";n.isTransition=!0;n.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":u+"px","-moz-perspective-origin":u+"px","perspective-origin":u+"px"});r.css(s(o,10)).addClass(f).on(t,function(){n.endPrev=!0;r.off(t);n.clearTransStyle(r,f)});i.addClass(e).on(t,function(){n.endCurrent=!0;i.off(t);n.clearTransStyle(i,e)})},clearTransStyle:function(n,t){var i=this;n.css({position:"",left:""}).removeClass(t);i.endPrev&&i.endCurrent&&(i.$owlWrapper.removeClass("owl-origin"),i.endPrev=!1,i.endCurrent=!1,i.isTransition=!1)},owlStatus:function(){var n=this;n.owl={userOptions:n.userOptions,baseElement:n.$elem,userItems:n.$userItems,owlItems:n.$owlItems,currentItem:n.currentItem,prevItem:n.prevItem,visibleItems:n.visibleItems,isTouch:n.browser.isTouch,browser:n.browser,dragDirection:n.dragDirection}},clearEvents:function(){var r=this;r.$elem.off(".owl owl mousedown.disableTextSelect");n(i).off(".owl owl");n(t).off("resize",r.resizer)},unWrap:function(){var n=this;n.$elem.children().length!==0&&(n.$owlWrapper.unwrap(),n.$userItems.unwrap().unwrap(),n.owlControls&&n.owlControls.remove());n.clearEvents();n.$elem.attr("style",n.$elem.data("owl-originalStyles")||"").attr("class",n.$elem.data("owl-originalClasses"))},destroy:function(){var n=this;n.stop();t.clearInterval(n.checkVisible);n.unWrap();n.$elem.removeData()},reinit:function(t){var i=this,r=n.extend({},i.userOptions,t);i.unWrap();i.init(r,i.$elem)},addItem:function(n,t){var i=this,r;if(!n)return!1;if(i.$elem.children().length===0)return i.$elem.append(n),i.setVars(),!1;i.unWrap();r=t===undefined||t===-1?-1:t;r>=i.$userItems.length||r===-1?i.$userItems.eq(-1).after(n):i.$userItems.eq(r).before(n);i.setVars()},removeItem:function(n){var t=this,i;if(t.$elem.children().length===0)return!1;i=n===undefined||n===-1?-1:n;t.unWrap();t.$userItems.eq(i).remove();t.setVars()}};n.fn.owlCarousel=function(t){return this.each(function(){if(n(this).data("owl-init")===!0)return!1;n(this).data("owl-init",!0);var i=Object.create(r);i.init(t,this);n.data(this,"owlCarousel",i)})};n.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),function(){var n,f,t,i,r,u=function(n,t){return function(){return n.apply(t,arguments)}},e=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};f=function(){function n(){}return n.prototype.extend=function(n,t){var i,r;for(i in t)r=t[i],n[i]==null&&(n[i]=r);return n},n.prototype.isMobile=function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)},n.prototype.addEvent=function(n,t,i){return n.addEventListener!=null?n.addEventListener(t,i,!1):n.attachEvent!=null?n.attachEvent("on"+t,i):n[t]=i},n.prototype.removeEvent=function(n,t,i){return n.removeEventListener!=null?n.removeEventListener(t,i,!1):n.detachEvent!=null?n.detachEvent("on"+t,i):delete n[t]},n.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},n}();t=this.WeakMap||this.MozWeakMap||(t=function(){function n(){this.keys=[];this.values=[]}return n.prototype.get=function(n){var t,u,i,f,r;for(r=this.keys,t=i=0,f=r.length;i<f;t=++i)if(u=r[t],u===n)return this.values[t]},n.prototype.set=function(n,t){var i,f,r,e,u;for(u=this.keys,i=r=0,e=u.length;r<e;i=++r)if(f=u[i],f===n){this.values[i]=t;return}return this.keys.push(n),this.values.push(t)},n}());n=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(n=function(){function n(){typeof console!="undefined"&&console!==null&&console.warn("MutationObserver is not supported by your browser.");typeof console!="undefined"&&console!==null&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return n.notSupported=!0,n.prototype.observe=function(){},n}());i=this.getComputedStyle||function(n){return this.getPropertyValue=function(t){var i;return t==="float"&&(t="styleFloat"),r.test(t)&&t.replace(r,function(n,t){return t.toUpperCase()}),((i=n.currentStyle)!=null?i[t]:void 0)||null},this};r=/(\-([a-z]){1})/g;this.WOW=function(){function r(n){n==null&&(n={});this.scrollCallback=u(this.scrollCallback,this);this.scrollHandler=u(this.scrollHandler,this);this.start=u(this.start,this);this.scrolled=!0;this.config=this.util().extend(n,this.defaults);this.animationNameCache=new t}return r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},r.prototype.init=function(){var n;return this.element=window.document.documentElement,(n=document.readyState)==="interactive"||n==="complete"?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var t,i,u,r;if(this.stopped=!1,this.boxes=function(){var n,u,i,r;for(i=this.element.querySelectorAll("."+this.config.boxClass),r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(t);return r}.call(this),this.all=function(){var n,u,i,r;for(i=this.boxes,r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(t);return r}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else{for(r=this.boxes,i=0,u=r.length;i<u;i++)t=r[i],this.applyStyle(t,!0);this.util().addEvent(window,"scroll",this.scrollHandler);this.util().addEvent(window,"resize",this.scrollHandler);this.interval=setInterval(this.scrollCallback,50)}if(this.config.live)return new n(function(n){return function(t){var u,f,i,e,r;for(r=[],i=0,e=t.length;i<e;i++)f=t[i],r.push(function(){var n,r,t,i;for(t=f.addedNodes||[],i=[],n=0,r=t.length;n<r;n++)u=t[n],i.push(this.doSync(u));return i}.call(n));return r}}(this)).observe(document.body,{childList:!0,subtree:!0})},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),this.interval!=null?clearInterval(this.interval):void 0},r.prototype.sync=function(){if(n.notSupported)return this.doSync(this.element)},r.prototype.doSync=function(n){var t,i,f,u,r;if(n==null&&(n=this.element),n.nodeType===1){for(n=n.parentNode||n,u=n.querySelectorAll("."+this.config.boxClass),r=[],i=0,f=u.length;i<f;i++)t=u[i],e.call(this.all,t)<0?(this.boxes.push(t),this.all.push(t),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(t,!0),r.push(this.scrolled=!0)):r.push(void 0);return r}},r.prototype.show=function(n){return this.applyStyle(n),n.className=""+n.className+" "+this.config.animateClass},r.prototype.applyStyle=function(n,t){var i,r,u;return r=n.getAttribute("data-wow-duration"),i=n.getAttribute("data-wow-delay"),u=n.getAttribute("data-wow-iteration"),this.animate(function(f){return function(){return f.customStyle(n,t,r,i,u)}}(this))},r.prototype.animate=function(){return"requestAnimationFrame"in window?function(n){return window.requestAnimationFrame(n)}:function(n){return n()}}(),r.prototype.resetStyle=function(){var r,n,u,t,i;for(t=this.boxes,i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(r.style.visibility="visible");return i},r.prototype.customStyle=function(n,t,i,r,u){return t&&this.cacheAnimationName(n),n.style.visibility=t?"hidden":"visible",i&&this.vendorSet(n.style,{animationDuration:i}),r&&this.vendorSet(n.style,{animationDelay:r}),u&&this.vendorSet(n.style,{animationIterationCount:u}),this.vendorSet(n.style,{animationName:t?"none":this.cachedAnimationName(n)}),n},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(n,t){var i,r,u,f=[];for(i in t)r=t[i],n[""+i]=r,f.push(function(){var t,o,f,e;for(f=this.vendors,e=[],t=0,o=f.length;t<o;t++)u=f[t],e.push(n[""+u+i.charAt(0).toUpperCase()+i.substr(1)]=r);return e}.call(this));return f},r.prototype.vendorCSS=function(n,t){var r,f,o,u,s,e;for(f=i(n),r=f.getPropertyCSSValue(t),e=this.vendors,u=0,s=e.length;u<s;u++)o=e[u],r=r||f.getPropertyCSSValue("-"+o+"-"+t);return r},r.prototype.animationName=function(n){var t;try{t=this.vendorCSS(n,"animation-name").cssText}catch(r){t=i(n).getPropertyValue("animation-name")}return t==="none"?"":t},r.prototype.cacheAnimationName=function(n){return this.animationNameCache.set(n,this.animationName(n))},r.prototype.cachedAnimationName=function(n){return this.animationNameCache.get(n)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var n;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var t,u,i,r;for(i=this.boxes,r=[],t=0,u=i.length;t<u;t++)if(n=i[t],n){if(this.isVisible(n)){this.show(n);continue}r.push(n)}return r}.call(this),!(this.boxes.length||this.config.live)))return this.stop()},r.prototype.offsetTop=function(n){for(var t;n.offsetTop===void 0;)n=n.parentNode;for(t=n.offsetTop;n=n.offsetParent;)t+=n.offsetTop;return t},r.prototype.isVisible=function(n){var r,u,t,f,i;return u=n.getAttribute("data-wow-offset")||this.config.offset,i=window.pageYOffset,f=i+Math.min(this.element.clientHeight,this.util().innerHeight())-u,t=this.offsetTop(n),r=t+n.clientHeight,t<=f&&r>=i},r.prototype.util=function(){return this._util!=null?this._util:this._util=new f},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r}()}.call(this),function(n,t){t.document.domain="sulekha.com";t.curStripBnrIdx=1;prvStripBnrIdx=0;propertygalleryCalled=0;newprojectCalled=0;t.dmycity=n("#d_mycity").val();t.umycity=n("#u_mycity").val();t.ispageloadcheck=1;t.Propertyhp={config:{PropertyTypes:{Residential:"residential-property",Commercial:"commercial-property"}},banners:{bindpeelbanner:function(){function t(){n("#peelback div").delay(500).animate({width:350,height:336},500);n("#peelback img").delay(500).animate({width:350,height:350},500);_gaq.push(["_trackEvent","Home Page Peel Banner","Color Home - Show","Color Home Developers Pvt Ltd"])}function i(){n("#peelback div").delay(500).animate({width:50,height:47},500);n("#peelback img").delay(500).animate({width:50,height:50},500);_gaq.push(["_trackEvent","Home Page Peel Banner","Color Home - Hide","Color Home Developers Pvt Ltd"])}n.getScript("//cdnspimgsulekhalive.azureedge.net/cdn/js/property/jquery.peelback.js",function(){n.getScript("//cdnspimgsulekhalive.azureedge.net/cdn/js/property/peel.js",function(){setTimeout(function(){t()},1e3);setTimeout(function(){i()},7e3)})})},bindtopbanner:function(){n.getScript("//cdnspimgsulekhalive.azureedge.net/cdn/js/property/topbannerv3.js",function(){TopBannerInit()})},RefreshStripBanner:function(){try{var i=n(".strip-banner a").length;i>1&&(n(".strip-banner a:eq("+window.prvStripBnrIdx+")").addClass("hide"),n(".strip-banner a:eq("+window.curStripBnrIdx+")").removeClass("hide"),window.prvStripBnrIdx=window.curStripBnrIdx,window.curStripBnrIdx==i-1?window.curStripBnrIdx=0:window.curStripBnrIdx++,n(t).scroll())}catch(r){console.log(r)}},bindnewproject:function(){var i=dmycity,r="",t=[],u;n("#ddlnewprojlocality").val()&&(t=n("#ddlnewprojlocality").val().split("|"));t[0]&&(i=t[0]);t[1]&&(r=t[1]);u="/common/home_ajaxv5.aspx?term=getnewproject&city="+i+"&locality="+r;n.ajax({type:"POST",url:u,processData:!0,dataType:"json",success:Propertyhp.banners.bindnewprojectcallback})},bindnewprojectcallback:function(t){var u=n("#divnewprojectcontent ul li[class=active] a").html(),i,r;if(t[0].label>""){if(n("#divnewproject").show(),n("#newproject .content").html(""),n("#newproject .content").html(t[0].label),i=[],i=n("#divnewprojectcontent .new-tabs ul li a"),i.length>1)for(r=0;r<i.length;r++)n(i[r]).html()==u&&Propertyhp.homepageevents.newproject_subcategorytop(r+1)}else n("#divnewproject").hide()},LoadNewProjectLocalities:function(){var t="/common/home_ajaxv5.aspx?term=getnewprojlocality&city="+dmycity;n.ajax({type:"POST",url:t,processData:!0,dataType:"json",success:Propertyhp.banners.LoadNewProjectLocalitiescallback})},LoadNewProjectLocalitiescallback:function(t){t[0].locality>""&&n("#ddlnewprojlocality")&&n("#ddlnewprojlocality").html(t[0].locality)},bindpropertygallery:function(){var t="/common/home_ajaxv5.aspx?term=propertygallery&city="+dmycity;n.ajax({type:"POST",url:t,processData:!0,dataType:"json",success:Propertyhp.banners.bindpropertygallerycallback})},bindpropertygallerycallback:function(t){t[0].label>""?(n("#divpropertygallery").html(t[0].label),n("#divpropertygallery .single-slider").owlCarousel({stopOnHover:!0,navigation:!0,paginationSpeed:1e3,goToFirstSpeed:2e3,singleItem:!0,slideSpeed:2e3,lazyLoad:!0,autoHeight:!0,transitionStyle:"fade"})):n("#divpropertygallery").hide()},init:function(){umycity!="india"&&umycity!=""?(setTimeout("Propertyhp.banners.LoadNewProjectLocalities();",5e3),n(".strip-banner a img").each(function(){n(this).attr("src",n(this).attr("data-original"))}),setInterval("Propertyhp.banners.RefreshStripBanner();",15e3),newprojectCalled==0&&n(window).scrollTop()>200&&(newprojectCalled=1,Propertyhp.banners.bindnewproject()),n(window).scroll(function(t){t.stopPropagation();newprojectCalled==0&&n(window).scrollTop()>200&&(newprojectCalled=1,Propertyhp.banners.bindnewproject());propertygalleryCalled==0&&n(window).scrollTop()>400&&(propertygalleryCalled=1,Propertyhp.banners.bindpropertygallery())})):(newprojectCalled=1,propertygalleryCalled=1);n(window).bind("load",function(){var t=setTimeout(function(){n("div.carousel").trigger("sporty")},5e3)});n("#divpeelbanner").length&&setTimeout("Propertyhp.banners.bindpeelbanner();",1e3);n(".GAPRentHomeloc").on("click",function(){Property.GAP.TrackeEvent({event:"Popular_rental localities link click_rentals homepage_3",action:"click",pagesection:"lhs",label:"Popular rental localities",pagetype:"rentals homepage"})});n(".GAPRentalPoplist1").on("click",function(){Property.GAP.TrackeEvent({event:"Popular_listings link click_rentals homepage_1",action:"click",pagesection:"header",label:"Popular Listings",pagetype:"rentals homepage",navigatedfrom:"Rental HomePage",navigatedto:"Property Listing Page"})});n(".GAPRentalPoplist2").on("click",function(){Property.GAP.TrackeEvent({event:"Post_your rental need click_rentals homepage_2",action:"click",pagesection:"header",label:"Popular Listings",pagetype:"rentals homepage",navigatedfrom:"Rental HomePage",navigatedto:"Post Your Property"})});n(".GAPHomePageDownload").on("click",function(){Property.GAP.TrackeEvent({event:"downloadclick_home_page_21",action:"click",pagesection:"footer",label:"Download from app stores now",pagetype:"home page",navigatedfrom:"home page",navigatedto:""})})}},search:{metroCities:n.map(["Ahmedabad","Bangalore","Chennai","Hyderabad","Kolkata","Mumbai","Navi Mumbai","Pune","Delhi/NCR","Delhi","Faridabad","Ghaziabad","Greater Noida","Gurgaon","Noida"],function(n){return{name:n}}),catid:2,helpers:{removeEmptyEntries:function(n){if(!(n instanceof Array))throw new Error("Only Arrays can be passed to this function");for(var t=0;t<n.length;)n[t]==null||n[t]===""?n.splice(t,1):t++;return n},urlEncode:function(n){return n.replace(/(\s*\-\s*|\s|\\|\/|\.|')+/g,"-").toLowerCase().replace(/(\(|\))+/g,"").replace(/\-$/,"")},LocalityLength:function(n){return n.length>15?n.substring(0,15)+"...":n},indianText:function(n){var u=typeof n=="undefined";if(u||(u=typeof n!="string"&&typeof n!="number"&&!(n instanceof Number)&&!(n instanceof String)||(typeof n=="string"||n instanceof String)&&isNaN(parseInt(n))),u)throw new Error("Invalid Arguments");var t,f=n>=0?"":"-",r=n>=0?n:-n,i="";return r>=1e7?(t=Math.floor(r/1e5)/100,i="crore",t>1&&(i+="s")):r>=1e5?(t=Math.floor(r/1e3)/100,i="lakh",t>1&&(i+="s")):t=r,f+t+(i?" "+i:"")},capitalize:function(n){return n?n.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()}):""},generateArray:function(n,t,i){for(var r=[n];r[r.length-1]<t;)r.push(r[r.length-1]+i);return r[r.length-1]!=t&&r.push(t),r},closeAll:function(){var t=[];t.push(".dropselect .droplist");t.push(".city-popup");t.push("[data-contains=view-all]");n(t.toString()).hide();n(".error-tip").hide()},closeAllBut:function(n){var t=!1;n.is(":visible")&&(t=!0);Propertyhp.search.helpers.closeAll();t&&n.show()},toggle:function(n,t){t||(t="slideToggle");Propertyhp.search.helpers.closeAllBut(n);n.css("display")=="none"?n.show():n.hide()},toBedroom:function(n){if(n==null||typeof n!="number"&&!(n instanceof Number)||isNaN(n))throw new Error("Only numbers can be passed");if(n<1||n>7)throw new Error("Invalid Bedroom Id");switch(n){case 1:return"1 bhk";case 2:return"2 bhk";case 3:return"3 bhk";case 4:return"4 bhk";case 5:return"1 hall";case 6:return"1 rk";case 7:return"2 rk";default:return null}},toUrlstr:function(n){return n.replace(/(\s*\-\s*|\s|\\|\/|\.|'|:)+/g,"-").toLowerCase().replace(/(\(|\))+/g,"").replace(/\-$/,"")}},registerClicks:function(){function o(){setTimeout(function(){n(t).scroll()},2100)}function s(){setTimeout(function(){n(t).scroll()},1100)}var i=Propertyhp.search,u=i.helpers,r=u.closeAll,f=u.toggle,e=n("#hdnsplbnrcount").val();n(".property-slider").owlCarousel({autoPlay:e>1?!0:!1,autoplayTimeout:1e3,stopOnHover:!0,navigation:!0,paginationSpeed:2e3,goToFirstSpeed:2e3,singleItem:!0,slideSpeed:2e3,lazyLoad:!0,autoHeight:!0,transitionStyle:"fade",afterMove:o});n(".block-grid .owl-carousel").owlCarousel({items:5,navigation:!0,lazyLoad:!0});n(".single-slider").owlCarousel({items:4,stopOnHover:!0,navigation:!0,paginationSpeed:1e3,goToFirstSpeed:2e3,singleItem:!0,slideSpeed:2e3,lazyLoad:!0,autoHeight:!0,transitionStyle:"fade",afterMove:s});n("html").on("click","body",function(){r()});n("#refinepanel .search-filters").on("click",".citydown li a",function(t){t.preventDefault();t.stopPropagation();var r=n(this),e=n("#CityDDW"),u=r.parents("[data-filter-for]"),f=r.text();u.attr("data-selected",f);e.hide();u.find("a>span").html(f);i.go()});n(".filter-panel").on("click",".dropdown dt",function(t){t.preventDefault();t.stopPropagation();f(n(this).siblings(".dropselect").find(".droplist"))});n(".filter-panel").on("click","#citydrop .dropdown dt",function(t){t.preventDefault();t.stopPropagation();n("#citydrop .dropdown dd .droplist .select-search .typeahead").val("");n("#citydrop .dropdown dd .droplist .select-search input").focus()});n(".filter-panel .tabs").on("click","a",function(){i.defaults(n(this).parent().attr("data-value"));localStorage.SPLastSearch!=null&&localStorage.SPLastSearch!=undefined&&localStorage.SPLastSearch!=""&&Propertyhp.search.LoadUserLastSearchValues();Property.GAP.TrackeEvent({event:"headeroptionsclick_home_page_6",action:"click",pagesection:"searchbox",label:"Category Tab"})});n(".filter-panel .location").on("click",".dropdown .dropselect .droplist li span, .dropdown dt a span b",function(t){t.preventDefault();t.stopPropagation();var r=n("#locationdrop"),o=Propertyhp.search,f=o.helpers,s=r.attr("data-selected"),u=r.find(".dropdown .dropselect .droplist ul"),e=n(this).parent().attr("data-value"),i=s.split(",");i.pop();i.splice(n.inArray(e,i),1);i.push("");i.length==2?(n(".add-localities span").html(f.LocalityLength(i[0])+'<b class="right">X <\/b>'),n(".add-localities span").addClass("singleloc").parent().addClass("nodrop"),r.find("#divlocalitylist li").remove()):(n(".add-localities span").html(f.LocalityLength(i[0])+" +"+(i.length-2)),n(".add-localities span").removeClass("singleloc").parent().removeClass("nodrop"));i.length==1?(n(".add-localities").remove(),i="",u.children().remove(),u.parent().hide()):(i=i.join(","),u.children('[data-value="'+e+'"]').remove());r.attr("data-selected",i)});n(".filter-panel").on("click","#propertyTypeList .checkmark",function(t){t.preventDefault();t.stopPropagation();var r=n(this),i=r.find('input[type="checkbox"]'),u=i.attr("class"),f=r.parent().find(".checked");u?(i.prop("checked",!1),i.removeClass("checked"),Propertyhp.search.setCategoryType(i.attr("name"),i.attr("data-value"),0)):(i.prop("checked",!0),i.addClass("checked"),Propertyhp.search.setCategoryType(i.attr("name"),i.attr("data-value"),1),ispageloadcheck==0&&Property.GAP.TrackeEvent({event:"additionalinfodropdown_home_page_7",action:"click",pagesection:"searchbox",label:n(this).text()}))});n(".filter-panel").on("click","[id*=price] .dropdown .dropselect .droplist li",function(t){var f,s;t.preventDefault();t.stopPropagation();var e=n(this),i=e.attr("data-value"),o=e.html(),u=e.parents().eq(3);i==0?(o="",u.attr("id")=="fromprice"&&(n("#fromprice .dropdown ").find("span").html("Min &#8377;"),n("#fromprice").attr("data-selected","")),u.attr("id")=="toprice"&&(n("#toprice .dropdown ").find("span").html("Max &#8377;"),n("#toprice").attr("data-selected",""),i=n("#fromprice").attr("data-selected")),Propertyhp.search.initprice("","toprice",parseInt(i))):(i!=">5 crores"&&u.attr("data-selected",i),u.attr("id")=="fromprice"?(u.find("span").html("<strong>Min &#8377;: <\/strong>"+o),f=n("#toprice"),s=f.attr("data-selected"),parseInt(s)<=parseInt(i)&&(f.attr("data-selected",""),f.find("span").html("Max &#8377;")),Propertyhp.search.initprice("","toprice",parseInt(i)),Property.GAP.TrackeEvent({event:"minpriceentered_home_page_3",action:"submit",pagesection:"searchbox",label:"Select Min Price"})):(u.find("span").html("<strong>Max &#8377;: <\/strong>"+o),Property.GAP.TrackeEvent({event:"maxpriceentered_home_page_4",action:"submit",pagesection:"searchbox",label:"Select Max Price"})));r()});n(".filter-panel").on("click","#bedroom .checkmark",function(t){var f,s;t.preventDefault();t.stopPropagation();var e=n(this),u=e.find('input[type="checkbox"]'),o=u.attr("data-value"),h=u.attr("class"),c=e.parent().find(".checked"),r=n("#bedroom"),i=r.attr("data-selected");h?(u.removeClass("checked"),i||(i=""),i=i.replace(/^,|,$/ig,"").split(","),i.splice(n.inArray(o,i),1),r.attr("data-selected",i.toString().replace(/^,|,$/ig,""))):(u.addClass("checked"),i||(i=""),i=i.replace(/^,|,$/ig,"").split(","),i.push(o),r.attr("data-selected",i.toString().replace(/^,|,$/ig,"")),Property.GAP.TrackeEvent({event:"bedroomsentered_home_page_8",action:"submit",pagesection:"searchbox",label:"Select Bedroom Type"}));f=Propertyhp.search.helpers.removeEmptyEntries(i);f.length>1?r.find("span").html("Multiple"):f.length==1?(s=f[0]+"",r.find("span").html(s.replace("-"," ").toUpperCase())):Propertyhp.search.catid==411?r.find("span").html("Gender"):r.find("span").html("Bedrooms")});n(".filter-panel").on("click","#spntype .dropselect .droplist li",function(t){t.preventDefault();t.stopPropagation();var i=n(this),f=i.attr("data-value"),e=i.html(),u=i.parents().eq(2);u.find("span").html(e);u.attr("data-selected",f);Property.GAP.TrackeEvent({event:"bedroomsentered_home_page_8",action:"submit",pagesection:"searchbox",label:"Select Bedroom Type"});r()});n(".filter-panel").on("click",".button",function(n){n.preventDefault();n.stopPropagation();var t=Propertyhp.search.get("citydrop");if(!t||t.toLowerCase()==="india")return i.showerror("citydrop","Please select city"),!1;switch(i.catid){case 1:Propertyhp.search.need="rent";Propertyhp.search.go_rentals();break;case 2:Propertyhp.search.need="sale";Propertyhp.search.go();break;case 411:Propertyhp.search.need="sale";Propertyhp.search.go_roommate()}});n(".download-mobile").on("click","a",function(){Propertyhp.appmailclick()});n("#txtappmobilno").keypress(function(n){if(n.which!=8&&n.which!=0&&(n.which<48||n.which>57))return!1});n("div.carousel").lazyload({effect:"fadeIn",threshold:50,event:"sporty"});n(".lazy").lazyload()},registerHandlers:function(){var n=this;n.registerClicks()},localities:[],lastScroll:0,modalClosed:!1,cityautocomplete:function(){var e,r=Propertyhp.search,u=r.helpers,o=r.catid,h=u.capitalize,s=u.closeAll,f,i;e="/common/home_ajaxv5.aspx?term=citylocality&catid="+o+"&ran=1";f=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:Infinity,prefetch:{url:e,filter:function(t){return n.map(t,function(n){return{name:n}})},ttl:36e5}});f.initialize();i=n("#citydrop dl dd .droplist .select-search .typeahead").attr("placeholder","Enter city");i.typeahead({highlight:!0,minLength:0,hint:!1},{name:"city",displayKey:"name",source:function(n,t){if(!n){var i=Propertyhp.search.metroCities;t(i);return}f.get(n,function(n){n&&t(n)})},templates:{empty:'<p class="empty-message">Sorry, we don\'t seem to have any cities matching your query at the moment.<\/p>'}}).on("typeahead:selected typeahead:autocompleted",function(t,f){var e=f.name;n("#spcityname").html(e);n("#citydrop").attr("data-selected",e);i.typeahead("val","");s();n(".CommonSearch").attr("data-selected","");n(".CommonSearch").val("");n("#csContainer .locality-holder .header").remove();n("#csContainer .locality-holder .item").remove();n(".CommonSearch").focus();$cacheName="SP_LocalitySearch_"+u.toUrlstr(e);$cityName=u.toUrlstr(e);localStorage[$cacheName]==null&&r.LoadLocalityLS(e);r.initbedroom();Property.GAP.TrackeEvent({event:"cityentered_home_page_1",action:"click",pagesection:"searchbox",label:"Enter City"})}).on("keydown",function(t){t.keyCode===8&&i.typeahead("val").length===1&&i.typeahead("val","");t.keyCode===9&&(i.typeahead("val",""),n("#locationdrop .twitter-typeahead input").focus())}).on("focus",function(n){i.typeahead("val","");n.stopPropagation();i.typeahead("val")===""&&(i.typeahead("val","_"),i.typeahead("val",""))});if(t.isLessThanIE9)n("#citydrop").on("mousedown",".tt-dataset-city .tt-suggestion",function(){n(this).click()});return!0},resetvalue:function(){n("#propertyTypeList").attr("data-selected","");n("#fromprice").attr("data-selected","");n("#toprice").attr("data-selected","");n("#bedroom").attr("data-selected","");n("#spntype").attr("data-selected","");n("#bedroom").show();n("#spntype").hide()},initCityLocalities:function(t){var i,r,u,f=this,s=t==="city"?f.cityautocomplete:f.localityautocomplete,h=f.add,c=f.helpers,o=c.removeEmptyEntries,e;t==="city"?(i=n("#citydrop dl dd .droplist .select-search"),i.html(""),r=i.attr("data-selected").split(","),o(r),i.attr("data-selected",""),u='<input type="text" class="form-control typeahead" />',i.html(u)):(i=n("#locationdrop"),i.html(""),r=i.attr("data-selected").split(","),o(r),i.attr("data-selected",""),u='<input type="text" placeholder="Enter location" class="form-control typeahead" /><dl class="dropdown"><dt><\/dt><dd class="dropselect"><div class="droplist" id="divlocalitylist"><ul><\/ul><\/div><\/dd><\/dl><ul class="dropdown-menu" data-contains="view-all" role="menu" style="display: none;"><li data-value=""><a title="Refine your property search by adding upto 10 localities ">View all localities <b class="right">X <\/b><\/a><\/li><\/ul>',i.html(u));s();for(e in r)r.hasOwnProperty(e)&&h(r[e])},initCategoryType:function(){var f=Propertyhp.search,t=f.catid,r=[],u,i;r=t==1?{"Apartments / Flats":"Apartments / Flats","Individual Houses":"Individual Houses / Villas","Service Apartments":"Service Apartments","Guest House":"Guest House","Row House":"Row House"}:t==411?{"Paying Guests":"I Need a PG / Hostel",Roommates:"I Need a Room"}:{"Apartments / Flats":"Apartments / Flats","Individual Houses":"Individual Houses / Villas","Plots / Land":"Plots / Lands","Builder/Independent Floors":"Builder/Independent Floors","Agricultural Land/Farmland":"Agricultural Land / Farmland","Row House":"Row House"};u=n("#propertyTypeList dd ul");i="";i=t==411?"<li>Need:<\/li>":"<li>Residential:<\/li>";n.each(r,function(n,t){i+='<li class="checkmark"><input name="chkRPT" id="'+n+'" type="checkbox" data-value="'+n+'" /><i><\/i>'+t+"<\/li>"});r=t==1?{"Commercial: Office Space":"Office Space","Commercial: Showrooms/Shops":"Showrooms / Shops","Commercial: Warehouse/Godown":"Warehouse / Godown","Commercial: Restaurant/Bar/Hotel":"Restaurant / Bar / Hotel","Commercial: Virtual Office":"Virtual Office","Industrial Space":"Industrial Space","Commercial: Others":"Others"}:t==411?{}:{"Commercial: Office Space":"Office Space","Commercial: Showrooms/Shops":"Showrooms / Shops","Commercial: Warehouse/Godown":"Warehouse / Godown","Commercial: Restaurant/Bar/Hotel":"Restaurant / Bar / Hotel","Commercial: Rent Earning Property":"Rent Earning Property","Industrial Space":"Industrial Space","Commercial: Others":"Others"};t!=411&&(i+="<li>Commercial:<\/li>");n.each(r,function(n,t){i+='<li class="checkmark"><input name="chkCPT" id="'+n+'" type="checkbox" data-value="'+n+'"  /><i><\/i>'+t+"<\/li>"});u.html(i)},setCategoryType:function(t,i,r){var f=Propertyhp.config.PropertyTypes,u,e;r?(t=="chkRPT"?((n("#propertyTypeList dt").find("span").attr("data-selected")==f.Commercial||n("#propertyTypeList dt").find("span").attr("data-selected")=="offer")&&(n('#propertyTypeList .checkmark [name="chkCPT"]').each(function(){var t=n(this);t.prop("checked",!1);t.removeClass("checked")}),n("#propertyTypeList").attr("data-selected","")),Propertyhp.search.catid==411?n("#propertyTypeList dt").find("span").attr("data-selected","need").html("<strong>Need: <\/strong>"):n("#propertyTypeList dt").find("span").attr("data-selected",f.Residential).html("<strong>Residential: <\/strong>")):t=="chkCPT"&&((n("#propertyTypeList dt").find("span").attr("data-selected")==f.Residential||n("#propertyTypeList dt").find("span").attr("data-selected")=="need")&&(n('#propertyTypeList .checkmark [name="chkRPT"]').each(function(){var t=n(this);t.prop("checked",!1);t.removeClass("checked")}),n("#propertyTypeList").attr("data-selected","")),Propertyhp.search.catid!=411&&n("#propertyTypeList dt").find("span").attr("data-selected",f.Commercial).html("<strong>Commercial: <\/strong>")),u=n("#propertyTypeList").attr("data-selected"),u||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.push(i)):(t=="chkRPT"?Propertyhp.search.catid==411?n("#propertyTypeList dt").find("span").attr("data-selected","need").html("<strong>Need: <\/strong>"):n("#propertyTypeList dt").find("span").attr("data-selected",f.Residential).html("<strong>Residential: <\/strong>"):t=="chkCPT"&&Propertyhp.search.catid!=411&&n("#propertyTypeList dt").find("span").attr("data-selected",f.Commercial).html("<strong>Commercial: <\/strong>"),n('#propertyTypeList input[type="checkbox"]:checked').length||(e=n('.filter-panel .tabs li[class="active"]').attr("data-value"),Propertyhp.search.catid==411?n("#propertyTypeList dt").find("span").html("Select roommates type"):Propertyhp.search.catid==1?n("#propertyTypeList dt").find("span").html("Select rental type"):Propertyhp.search.catid==2&&e.toLowerCase()=="projects"?n("#propertyTypeList dt").find("span").html("Select project type"):n("#propertyTypeList dt").find("span").html("Select property type")),u=n("#propertyTypeList").attr("data-selected"),u||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.splice(n.inArray(i,u),1));n("#propertyTypeList").attr("data-selected",u.toString().replace(/^,|,$/ig,""));u=Propertyhp.search.helpers.removeEmptyEntries(u);u.length>0&&(u[0]&&n("#propertyTypeList").find("span").append(u[0].replace("Commercial: ","").replace("Individual Houses","Individual Houses / Villas")),u[1]&&n("#propertyTypeList").find("span").append(", "+u[1].replace("Commercial: ","").replace("Individual Houses","Individual Houses / Villas")),u.length>2&&(n("#propertyTypeList").find("span b").remove(),n("#propertyTypeList").find("span").append("<b> +"+(parseInt(u.length)-2)+"<\/b>")));n("#bedroom").show();n("#spntype").hide();n("#toprice").show();(n("#propertyTypeList input:checkbox[data-value='Plots / Land']").is(":checked")==!0||n("#propertyTypeList input:checkbox[data-value='Agricultural Land/Farmland']").is(":checked")==!0||t!="chkRPT")&&(Propertyhp.search.catid==411?n("#toprice").hide():(n("#bedroom").hide(),e=n('.filter-panel .tabs li[class="active"]').attr("data-value"),e.toLowerCase()=="buy"&&t!="chkRPT"&&n("#spntype").show()))},initprice:function(t,i,r){var u,f=this.helpers,l=Propertyhp.search,o=l.catid,c,e,s,h;if(o==1||o==411)if(r==0)u=f.generateArray(1e3,9e3,1e3),Array.prototype.push.apply(u,f.generateArray(1e4,28e3,2e3)),Array.prototype.push.apply(u,f.generateArray(3e4,65e3,5e3)),Array.prototype.push.apply(u,f.generateArray(7e4,9e4,1e4)),Array.prototype.push.apply(u,f.generateArray(1e5,175e3,25e3)),o==1?(Array.prototype.push.apply(u,f.generateArray(2e5,95e4,5e4)),Array.prototype.push.apply(u,f.generateArray(1e6,19e5,1e5)),Array.prototype.push.apply(u,f.generateArray(2e6,9e6,5e5))):Array.prototype.push.apply(u,f.generateArray(2e5,5e5,5e4));else for(c=9e6,e=1e3,c=o==1?9e6:5e5;r<=c;)r<=9e3?e=1e3:r>9e3&&r<=28e3?e=2e3:r>28e3&&r<=65e3?e=5e3:r>65e3&&r<=9e4?e=1e4:r>9e4&&r<=175e3?e=25e3:r>175e3&&r<=95e4?e=5e4:r>95e4&&r<=19e5?e=1e5:r>19e5&&r<=9e6&&(e=5e5),r+=e,u?u.push(r):u=[r];o==2&&(r==0?(u=f.generateArray(0,95e5,5e5),u[0]=1e5,Array.prototype.push.apply(u,f.generateArray(1e7,5e7,25e5))):r<95e5?(r+=r==1e5?4e5:5e5,u=f.generateArray(r,95e5,5e5),Array.prototype.push.apply(u,f.generateArray(1e7,5e7,25e5))):r>=95e5&&r<5e7&&(r+=r==95e5?5e5:25e5,u=f.generateArray(r,5e7,25e5)));s="";for(h in u)u.hasOwnProperty(h)&&(s+='<li data-value="'+u[h]+'">'+f.indianText(u[h])+"<\/li>");r==0&&t&&i&&(n("#"+t+" .dropdown ").find("span").html("Min &#8377;"),n("#"+t).attr("data-selected",""),n("#"+i+" .dropdown ").find("span").html("Max &#8377;"),n("#"+i).attr("data-selected",""),$item=n("#"+t+" .dropdown .dropselect .droplist"),$item.html("<li data-value=0>Min &#8377;<\/li>"+s));o==2&&(s+='<li data-value=">5 crores">>5 crores<\/li>');$item=n("#"+i+" .dropdown .dropselect .droplist");$item.html("<li data-value=0>Max &#8377;<\/li>"+s)},initbedroom:function(){var r=Propertyhp.search,u=r.catid,f=[],e=[],o=n("#bedroom dd ul"),i="",t=r.get("citydrop")+"";t&&u!=411&&(n("#bedroom").attr("data-selected",""),t&&(t.toLowerCase().indexOf("delhi")>-1||t.toLowerCase()=="faridabad"||t.toLowerCase()=="ghaziabad"||t.toLowerCase()=="greater noida"||t.toLowerCase()=="gurgaon"||t.toLowerCase()=="noida"||t.toLowerCase()=="mumbai")?n("#bedroom dt a span").html("Rooms"):n("#bedroom dt a span").html("Bedrooms"),(t.toLowerCase().indexOf("delhi")>-1||t.toLowerCase()=="faridabad"||t.toLowerCase()=="ghaziabad"||t.toLowerCase()=="greater noida"||t.toLowerCase()=="gurgaon"||t.toLowerCase()=="noida"||t.toLowerCase()=="chennai"||t.toLowerCase()=="mumbai"||t.toLowerCase()=="kolkata")&&(f={"1-hall":"1 HALL","1-rk":"1 RK","2-rk":"2 RK"},n.each(f,function(n,t){i+='<li class="checkmark"><input name="chkBED" type="checkbox" id="bedroom'+n+'" data-value="'+n+'" /><i><\/i>'+t+"<\/li>"})));e=u===411?{male:"Male",female:"Female"}:{"1-bhk":"1 BHK","2-bhk":"2 BHK","3-bhk":"3 BHK","4-bhk":"4 BHK+"};n.each(e,function(n,t){i+='<li class="checkmark"><input name="chkBED" type="checkbox" id="bedroom'+n+'" data-value="'+n+'" /><i><\/i>'+t+"<\/li>"});o.html(i)},defaults:function(t){var e=n(".filter-panel .tabs li");e.removeClass("active");n('[data-value="'+t+'"]').addClass("active");var u=n("#propertyTypeList dt a span"),f=n("#bedroom dt a span"),s=n(".filter-panel .button"),i=Propertyhp.search,o=i.helpers.closeAll,r=i.get("citydrop");o();r&&(r.toLowerCase().indexOf("delhi")>-1||r.toLowerCase()=="faridabad"||r.toLowerCase()=="ghaziabad"||r.toLowerCase()=="greater noida"||r.toLowerCase()=="gurgaon"||r.toLowerCase()=="noida"||r.toLowerCase()=="mumbai")?f.html("Rooms"):f.html("Bedrooms");t=="buy"?(n(".locality-holder .item").length==0&&n(".CommonSearch").attr("placeholder","Enter Location, Project or Business"),n("#csContainer #hdnCount").attr("data-prj-count","5").attr("data-bsns-count","5"),n(".searchresults ul li").remove(),n(".searchresults").hide(),i.catid=2,u.html("Select property type")):t=="projects"?(n(".locality-holder .item").length==0&&n(".CommonSearch").attr("placeholder","Enter Location, Project or Business"),n("#csContainer #hdnCount").attr("data-prj-count","5").attr("data-bsns-count","5"),n(".searchresults ul li").remove(),n(".searchresults").hide(),i.catid=2,u.html("Select projects type")):t=="rent"?(n(".locality-holder .item").length==0&&n(".CommonSearch").attr("placeholder","Enter Location"),n("#csContainer #hdnCount").attr("data-prj-count","0").attr("data-bsns-count","0"),n(".searchresults ul li").remove(),n(".searchresults").hide(),i.catid=1,u.html("Select rental type"),r.toLowerCase()==="delhi/ncr"&&(n("#citydrop").attr("data-selected","Delhi"),n("#spcityname").html("Delhi"),r=i.get("citydrop"))):t=="roommates"&&(n(".locality-holder .item").length==0&&n(".CommonSearch").attr("placeholder","Enter Location"),n("#csContainer #hdnCount").attr("data-prj-count","0").attr("data-bsns-count","0"),n(".searchresults ul li").remove(),n(".searchresults").hide(),i.catid=411,u.html("Select roommates type"),f.html("Gender"),r.toLowerCase()=="delhi/ncr"&&(n("#citydrop").attr("data-selected","Delhi"),n("#spcityname").html("Delhi"),r=i.get("citydrop")));i.resetvalue();i.initCityLocalities("city");i.initCategoryType();i.initprice("fromprice","toprice",0);n("#toprice").show();i.initbedroom()},get:function(t){var u=Propertyhp.search,f=u.helpers,o,i,s,r,e;if(arguments.length>1)return!1;if(typeof t=="string")switch(t){case"tab":return n.trim(n('.filter-panel .tabs li[class="active"]').attr("data-value"));case"supertag":return n.trim(n("#propertyTypeList dt span").attr("data-selected"));case"citygrouping":return o=n("#csContainer .CommonSearch").attr("data-grp-city"),o==undefined?"0":o;default:return t=="localities"?n("#csContainer .CommonSearch").attr("data-selected"):n(".filter-panel #"+t).attr("data-selected")}if(t==null){i={};i.city=u.get("citydrop");i.cityurl=f.toUrlstr(i.city);i.location=u.get("localities");i.locationurl=f.toUrlstr(i.location);i.propertytype=u.get("propertyTypeList");i.propertytypeurl=f.toUrlstr(i.propertytype);i.fromprice=u.get("fromprice");i.toprice=u.get("toprice");i.bedroom=u.get("bedroom");i.bedroomurl=f.toUrlstr(i.bedroom);i.transaction=u.get("spntype");i.transactionurl=f.toUrlstr(i.transaction);i.tab=u.get("tab");i.citygrouping=u.get("citygrouping");for(s in i)if(i.hasOwnProperty(s))if(r=i[s],r===""||r==null)delete r;else if(typeof r=="object"){for(e in r)r.hasOwnProperty(e)&&(r[e]===""||r[e]==null)&&delete r[e];n.isEmptyObject(r)&&delete r}return i}return!1},showerror:function(t,i){var r=n("#"+t+" .error-tip");r.html(i);r.show()},go:function(){var w=Propertyhp.search,u=2,nt=Propertyhp.search.need,v=w.helpers,f=w.get(),l=(f.tab||"").toLowerCase(),ut=w.get("supertag"),tt=f.city,b=f.location,ft=f.propertytype,k=f.bedroom,e=f.fromprice,o=f.toprice,a=f.transaction,r=window.location.protocol+"//"+window.location.hostname+"/",et=window.location.href,t="#",it=!1,h,y,d,rt,p,s,g;it||(k&&n("#bedroom").is(":visible")&&(h=k.split(","),n.inArray("",h)>-1&&h.splice(n.inArray("",h),1),h.length>0&&(h.length===1?(y=h[0],u===1&&(l==="projects"?(d=y.split("-"),t+="bedrooms="+d[0]+"&bedroomtype="+d[1]+"&"):r+=y+"-"),u===2&&(r+=y+"-")):(u===1&&(t+="bedrooms="+h+"&"),u===2&&(t+="bedroomsurl="+h+"&")))),(e||o)&&(e&&o&&l!=="projects"&&nt==="sale"?(e&&e!=0&&(t+="pricefrom="+e+"&"),o&&o!=0&&(t+="priceto="+o+"&")):(u===1&&(e&&e!=0&&(t+="fprice="+e/1e5+"&"),o&&o!=0&&(t+="tprice="+o/1e5+"&"),t+="pricetype=lakhs&"),u===2&&(e&&e!=0&&(t+="pricefrom="+e+"&"),o&&o!=0&&(t+="priceto="+o+"&")))),a&&n("#spntype").is(":visible")&&(u===1&&(a=v.toUrlstr(a),rt=/(\d\-(bh|r)k\-)|((\d*\-){2}lakhs\-)/g,p=r.match(rt),(p==null||p!=null&&p.length<2)&&l!=="projects"?r+=a+"-":t+="ttype="+a+"&"),u===2&&(r+=a.toLowerCase()+"-")));var ot=v.toUrlstr(ut),c=v.toUrlstr(ft),i="";if(c.indexOf(",")>-1?(i=l!=="projects"?ot||"property":"new-projects",u===1&&(t+="primarytag="+c+"&"),u===2&&(t+="subcategoriesurl="+c+"&")):(u===1&&(l!=="projects"?i=c:(i="new-projects",c&&(t+="primarytag="+c+"&"))),u===2&&(l!=="projects"?i=c:(i="new-projects",c&&(t+="subcategoriesurl="+c+"&")))),i==="")switch(l){case"properties":i="property";break;case"flats":i="apartments-flats";break;case"houses":i="individual-houses";break;case"plots":i="plots-land";break;case Propertyhp.config.PropertyTypes.Commercial:i="commercial-property";break;case"projects":i="new-projects";break;case"builders":i="property-builders";break;case"agents":i="real-estate-agents";break;default:i="property"}if(i+="-in-",r+=i,!it&&b&&(s=b.split(","),n.inArray("",s)>-1&&s.splice(n.inArray("",s),1),s.length>0))if(s.length===1&&Propertyhp.search.get("citydrop")!="Delhi/NCR"&&f.citygrouping!="1")r+=v.urlEncode(s[0])+"-";else{u===1&&(t+="locality=");u===2&&(t+="localitiesurl=");for(g in s)s.hasOwnProperty(g)&&(t+=v.urlEncode(s[g])+",");t+="&"}tt&&(r+=v.urlEncode(tt));i!=="property-builders-in-"&&i!=="real-estate-agents-in-"&&(r+="-for-"+nt.toLowerCase());r+=t==="#"?"":t.replace(/&$/,"");l=="buy"&&(r.indexOf("-lakhs-")!==-1||r.indexOf("-crores-")!==-1)&&(r+=(r.indexOf("#")!==-1?"&":"#")+"ref=searchhp");f.citygrouping=="1"&&(r+=(r.indexOf("#")!==-1?"&":"#")+"cg=1");r!=et&&(_gaq.push(["_trackEvent","UX - Search","Search",JSON.stringify(f)]),Property.GAP.TrackeEvent({event:"searchclick_home_page_9",action:"click",pagesection:"searchbox",label:"Select Property Type",propertylocation:b,propertybedrooms:k,transactiontype:a}),window.location.href=r)},go_rentals:function(){var l=Propertyhp.search,a=Propertyhp.search.need,o=l.helpers,r=l.get(),s=(r.tab||"").toLowerCase(),nt=l.get("supertag"),p=r.city,w=r.location,tt=r.propertytype,b=r.bedroom,h=r.fromprice,c=r.toprice,k=r.transaction,t=window.location.protocol+"//"+window.location.hostname+"/",it=window.location.href,f="#",d=!1,rt=!1,e,g,u,y;d||(b&&n("#bedroom").is(":visible")&&(e=b.split(","),n.inArray("",e)>-1&&e.splice(n.inArray("",e),1),e.length>0&&(e.length===1?(g=e[0],t+=g+"-",rt=!0):f+="bedroomsurl="+e+"&")),(h||c)&&(h&&h!=0&&(f+="pricefrom="+h+"&"),c&&c!=0&&(f+="priceto="+c+"&")),k&&n("#spntype").is(":visible")&&(t+=k+"-"));var ut=o.toUrlstr(nt),v=o.toUrlstr(tt),i="";if(v.indexOf(",")>-1?(s!=="projects"&&(i="property"),f+="subcategoriesurl="+v+"&"):s!=="projects"&&(i=v),i==="")switch(s){case"properties":i="property";break;case"flats":i="apartments-flats";break;case"houses":i="individual-houses";break;case"plots":i="plots-land";break;case Propertyhp.config.PropertyTypes.Commercial:i="commercial-property";break;case"projects":i="new-projects";break;case"builders":i="property-builders";break;case"agents":i="real-estate-agents";break;default:i="property"}if(t+=i,a=="sale"&&(a="rent"),t+="-for-"+a.toLowerCase(),t+="/",!d&&w&&(u=w.split(","),n.inArray("",u)>-1&&u.splice(n.inArray("",u),1),u.length>0))if(u.length===1&&r.citygrouping!="1")t+=o.urlEncode(u[0])+"-";else{f+="localitiesurl=";for(y in u)u.hasOwnProperty(y)&&(f+=o.urlEncode(u[y])+",");f+="&"}p&&(t+=o.urlEncode(p));t+=f==="#"?"":f.replace(/&$/,"");s=="buy"&&(t.indexOf("-lakhs-")!==-1||t.indexOf("-crores-")!==-1)&&(t+=(t.indexOf("#")!==-1?"&":"#")+"ref=searchhp");r.citygrouping=="1"&&(t+=(t.indexOf("#")!==-1?"&":"#")+"cg=1");t!=it&&(_gaq.push(["_trackEvent","UX - Search","Search",JSON.stringify(r)]),window.location.href=t)},go_roommate:function(){var o=Propertyhp.search,e=o.helpers,nt=o.get("tab").toLowerCase(),tt=o.get("supertag"),u=o.get(),v=u.city,y=u.location,b=u.propertytype,k=u.bedroom,s=u.fromprice,h=u.toprice,i=window.location.protocol+"//"+window.location.hostname+"/",d=window.location.href,t="#",c=!1,p=e.toUrlstr(b),f=e.toUrlstr(k),g,r,l,a,w;if(p=="paying-guests"?i+=f=="male"?"boys-pg-hostels":f=="female"?"girls-pg-hostels":"paying-guest-hostels":p=="roommates"?i+=f=="male"?"male-roommates":f=="female"?"female-roommates":"roommates-flatmates":(i+="pg-roommates",c=!0,f=="male"?t+="genderurl=11":f=="female"?t+="genderurl=10":f=="male,female"&&(t+="genderurl=11,10")),i+="/",g=1e3,(s||h)&&(s&&s!=0&&(t+=t=="#"?"":"&",t+="pricefrom="+s),h&&h!=0&&(t+=t=="#"?"":"&",t+="priceto="+h)),y&&(r=y.split(","),n.inArray("",r)>-1&&r.splice(n.inArray("",r),1),r.length>0))if(r.length===1&&u.citygrouping!="1")i+=e.urlEncode(r[0])+"-";else{t+=t=="#"?"":"&";t+="localitiesurl=";l=[];for(a in r)r.hasOwnProperty(a)&&l.push(e.urlEncode(r[a]));t+=l.join(",")}v&&(i+=e.urlEncode(v));c&&(w="/search");i+=c==!0?w:"";i+=t==="#"?"":t.replace(/&$/,"");u.citygrouping=="1"&&(i+=(i.indexOf("#")!==-1?"&":"#")+"cg=1");i!=d&&(_gaq.push(["_trackEvent","UX - Search","Search",JSON.stringify(u)]),window.location.href=i)},initFilters:function(){var t=this,i=n('.filter-panel .tabs li[class="active"]').attr("data-value");t.defaults(i.toLowerCase());t.registerHandlers()},LoadUserLastSearchValues:function(t){var a=localStorage.SPLastSearch==null||localStorage.SPLastSearch==undefined?"":localStorage.SPLastSearch,i,u,e,r,o,s,h,c,l,f;if(a!=""&&(i=JSON.parse(a),n("#spcityname").text()==i.city&&(t=="load"&&(u=i.locs,e=u==""||u==undefined?"":u.split(","),e!=""&&n(".CommonSearch").attr("data-selected",e)),r=i.ctgry,r=r.replace("Plots & Land","Plots / Land"),r!=""&&n("#propertyTypeList ul li.checkmark input[type='checkbox']").each(function(){if(n(this).attr("data-value")==r)return n(this).prop("checked",!0).click(),!1}),n("#spntype").is(":visible")&&(o=i.ttype,o!=""&&n("#spntype ul.droplist li").each(function(){if(n(this).attr("data-value").toLowerCase()==o.toLowerCase())return n(this).click(),!1})),s=i.pf,s!=""&&n("#fromprice .dropdown .dropselect .droplist li").each(function(){if(n(this).attr("data-value")==s)return n(this).click(),!1}),h=i.pt,h!=""&&n("#toprice .dropdown .dropselect .droplist li").each(function(){if(n(this).attr("data-value")==h)return n(this).click(),!1}),c=i.beds,c!="")))for(l=c.toLowerCase().split(","),f=0;f<l.length;f++)n("#bedroom .dropselect li.checkmark input[type='checkbox']").each(function(){if(n(this).attr("data-value").toLowerCase()==l[f])return n(this).prop("checked",!0).click(),!1});ispageloadcheck=0},LoadRecentSearchHistory:function(){Property.common.DownloadJS("//apiprop.sulekha.com/property/sp_searchhistory.aspx")},LoadRecentSearchHistoryCallBack:function(t){t!=""&&n("#divSearchList").length>0&&(n("#divSearchList").html(t).fadeIn(),n("#divSearchList").hover(function(){n("#divLastSearchList").fadeIn("medium");_gaq.push(["_trackEvent","UX","LastSearches-Homepage","Open"]);Property.GAP.TrackeEvent({event:"lastsearchesclick_home_page_5",action:"click",pagesection:"searchbox",label:"Last Searches"})},function(){n("#divLastSearchList").fadeOut("fast")}),n("#popoverclose").click(function(){n("#divLastSearchList").fadeOut("fast")}))},LoadLocalityLS:function(t){var r="0",i;(t.toLowerCase()=="mumbai"||t.toLowerCase()=="navi mumbai")&&(r="1");t!=""&&(i="/CommonSearch/GetSearchResults?sText=&sType=location&city="+t+"&localities=&locationCount=0&businessCount=0&projectCount=0&cg=1",n.ajax({url:i,type:"GET",success:function(n){n.length!=0&&(localStorage[$cacheName]=JSON.stringify(n))}}))}},homepageevents:{newproject_subcategorytop:function(t){var i=n("#newproject");i.find(".new-tabs ul li").removeClass("active");i.find(".new-tabs ul li[id=npsubcategorytap_"+t+"]").addClass("active");i.find(".block-grid").removeClass("section-blur");i.find(".block-grid").addClass("section-blur");i.find("#npsubcategorydetail_"+t).removeClass("section-blur");i.find("#npsubcategorydetail_"+t).removeClass("block-grid three-up").addClass("block-grid three-up");Property.GAP.TrackeEvent({event:"propertytypeoptions_home_page_11",action:"click",pagesection:"rhs",label:"New projects Sub Category",propertylocation:n("#ddlnewprojlocality").val(),propertytype:$SUL("#npsubcategorytap_"+t).text()})},yp_categorytap:function(t){var i=n("#ypblog");i.find(".new-tabs ul li").removeClass("active");i.find(".new-tabs ul li[id=ypcategorytap_"+t+"]").addClass("active");i.find(".block-grid").removeClass("section-blur");i.find(".block-grid").addClass("section-blur");i.find("#ypcategorydetail_"+t).removeClass("section-blur");Property.GAP.TrackeEvent({event:"footernav2click_home_page_23",action:"click",pagesection:"footer",label:"footer link",navigatedfrom:"Footer Link",navigatedto:"Home Page"})},tabmenu:function(t,i,r){var u=n("#"+t);u.find(".new-tabs ul li").removeClass("active");u.find(".new-tabs ul li[id="+i+"]").addClass("active");u.find(".block-grid").removeClass("section-blur");u.find(".block-grid").addClass("section-blur");u.find("#"+r).removeClass("section-blur");Property.GAP.TrackeEvent({event:"footernav1click_home_page_22",action:"click",pagesection:"footer",label:"footer link",propertytype:$SUL("#"+i).text()})},registerClicks:function(){n(document).on("change","#ddlnewprojlocality",function(){Property.GAP.TrackeEvent({event:"locailitiesdropdown_home_page_13",action:"click",pagesection:"rhs",label:"All Localities",propertylocation:n("#ddlnewprojlocality").val()});Propertyhp.banners.bindnewproject()})},PGRMHomePageHideShow:function(){var r=n(".twelve.columns #pghostels li").length,u=n(".twelve.columns #roommate li").length,t,i;r>0||u>0?(n(".popparent").show(),r>0?n(".ad-list #pghostels").show():n(".ad-list #pghostels").hide(),u>0?n(".ad-list #roommate").show():n(".ad-list #roommate").hide()):n(".popparent").hide();t=n("#pgrecent li").length;i=n("#rmrecent li").length;t>0||i>0?(n(".recentparent").show(),t>0?n(".ad-list #pgrecent").show():n(".ad-list #pgrecent").hide(),i>0?n(".ad-list #rmrecent").show():n(".ad-list #rmrecent").hide()):n(".recentparent").hide()},closeSticky:function(){n(".notification").hide();n("body").removeClass("note-active");Sulekha.Common.setCookie("padtSticky","1","","sulekha.com")},init:function(){var t=this;t.registerClicks();n(".GAPSEOPROTYPE").click(function(){Property.GAP.TrackeEvent({event:"footernav1click_home_page_22",action:"click",pagesection:"footer",label:"Footer Link"})});n(".GAPpropertyservices").click(function(){Property.GAP.TrackeEvent({event:"footernav2click_home_page_23",action:"click",pagesection:"footer",label:"Footer Link"})});n("#pagetype").val()=="roommatehome"&&t.PGRMHomePageHideShow()}},common:{process:function(t,i,r,u){var f=n("#div_Process");f.length===0?f=n("#process"):(f.removeAttr("id"),f.removeAttr("name"),f.attr("id","process"),f.addClass("modal"),f.removeClass("in"));t?(f.modal("hide"),Sulekha.Common.isEmptyParam(r)&&(r="auto"),Sulekha.Common.isEmptyParam(u)&&(u="auto"),Sulekha.Common.isEmptyParam(i)&&(i="Loading Properties..."),f.html('<div class="pad20trbl"><p style="text-align: center;"><img class="" src="//cdnspimgsulekhalive.azureedge.net/cdn/images/property/preloader.primary.gif"><\/p><p class="pad5t pad10l" style="width: 250px;text-align: center;margin-top: -20px;font-size: 17px;"><\/p><\/div>'),f.siblings("div.ui-dialog-titlebar").remove(),f.modal("show"),f.find("p+p").text(i),f.css({height:r,border:"none","border-radius":0,width:u,position:"fixed",top:"50%",left:"50%"}),f.css({"margin-left":"-"+f.width()/2+"px","margin-top":"-"+f.height()/2+"px"})):f.modal("hide")}},mobile789check:function(n){var t=new RegExp(/^[6789]\d{9}$/);return t.test(n)},appmailclick:function(){var t=n.trim(n("#txtappmobilno").val());if(t.length==0)return n(".err-mob").attr("style","visibility:visible"),n(".err-mob").html("Enter your mobile number"),!1;if(Propertyhp.mobile789check(t))n(".err-mob").attr("style","visibility:hidden"),n(".err-mob").html(""),Property.GAP.TrackeEvent({event:"mobileentered_home_page_19",action:"submit",pagesection:"footer",label:"Text me the link"}),n.ajax({type:"GET",url:"/common/home_ajaxv5.aspx?term=appdownload",data:{jmobileno:n.trim(n("#txtappmobilno").val()),type:"sendappsms"},failure:function(){n(".err-mob").attr("style","visibility:visible");n(".err-mob").html("Oops something went wrong, Please try after some time");Property.GAP.TrackeEvent({event:"textmelink_home_page_20",action:"click",pagesection:"footer",label:"Text me the link"})},success:function(t){t[0].result==="Success"?(n(".err-mob").attr("style","color:green; visibility:visible"),n(".err-mob").html("Link sent Successfully"),Property.GAP.TrackeEvent({event:"textmelink_home_page_20",action:"click",pagesection:"footer",label:"Text me the link"})):t[0].result==="alreadysent"?n(".err-mob").html(""):(n(".err-mob").attr("style","visibility:visible"),n(".err-mob").html("Oops something went wrong, Please try after some time"))}});else return n(".err-mob").attr("style","visibility:visible"),n(".err-mob").html("Enter your valid mobile number"),Property.GAP.TrackeEvent({event:"textmelink_home_page_20",action:"click",pagesection:"footer",label:"Text me the link"}),!1},init_wow:function(){var n=new WOW({boxClass:"wow",animateClass:"animated",offset:0});n.init()},init:function(){var i=Propertyhp.search,t;i.initFilters();this.banners.init();i.LoadUserLastSearchValues("load");document.cookie.indexOf("SPSearch=")!=-1&&setTimeout(i.LoadRecentSearchHistory,500);Propertyhp.homepageevents.init();Propertyhp.init_wow();t=n("#u_mycity").val();t&&t!=="india"||(n(".global-city .city-popup").html(n("#divcitylist").html()),n(".global-city .city-popup").show());t&&t!=="india"||(n("body").append('<div class="city-backdrop"><\/div>'),n("#divIndiaCityList").show());n(".scroll_on_hover").mouseover(function(){n(this).removeClass("ellipsis");var t=n(this).width(),i=t*15;n(this).animate({scrollLeft:t},i,"linear")});n(".scroll_on_hover").mouseout(function(){n(this).stop();n(this).addClass("ellipsis");n(this).animate({scrollLeft:0},"slow")});n(".owl-wrapper").on("click",function(){n("[data-contains='view-all-locality']").hide()});try{$SUL("#postfreead_hdr").length>0&&$SUL("#propertyCatRent").length>0&&$SUL("#propertyCatRent").val()=="rentals"&&$SUL("#postfreead_hdr").attr("href","//property.sulekha.com/post-your-property?category=rentals")}catch(r){console.log(r)}if(n("#divpeekinbanner").length){n(window).on("scroll",function(){n(window).scrollTop()>400?n(".new-banner").addClass("open"):n(".new-banner").removeClass("open")});n(".close").on("click",function(){n(".new-banner").removeClass("open");setTimeout(function(){n("#divpeekinbanner").remove()},1e3)})}document.cookie.indexOf("padtSticky")!=-1||n(".notification").length&&(n(".notification").slideDown("slow"),n(window).scroll(function(){n(window).scrollTop()>50?n("header").addClass("active"):n("header").removeClass("active")}));n("body").on("click","#pgroomates li",function(){var t=n(this).attr("id");n(".rental-locality").hide();n(".rental-locality#"+t).show();n("#pgroomates li").removeClass("active");n(this).addClass("active")});n("body").on("click","#pgroomatesrecent li",function(){var t=n(this).attr("id");n(".recentads").hide();n(".recentads#"+t).show();n("#pgroomatesrecent li").removeClass("active");n(this).addClass("active")});n("#pagetype").val()=="roommatehome"&&n(".fab-common").hide()}};t.Propertyhp.init()}(jQuery,window),function(n,t,i,r,u){n[r]=n[r]||[];n[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var e=t.getElementsByTagName(i)[0],f=t.createElement(i),o=r!="dataLayer"?"&l="+r:"";f.async=!0;f.src="//www.googletagmanager.com/gtm.js?id="+u+o;e.parentNode.insertBefore(f,e)}(window,document,"script","dataLayer","GTM-52DVWN");showMenu=function(n){jQuery("#"+n).attr("style","display:block")};hideMenu=function(n){jQuery("#"+n).attr("style","display:none")};hdrLgnClk=function(){try{advid=""}catch(n){}},function(n,t){t.Common={InitVariables:function(){$iebrowser=!1;$iebrowser=navigator.appVersion.indexOf("MSIE 8.0")!=-1?!0:!1;$thisTxtSearch=null;$lastAjaxRequest=null;$crossDomaiRequest=!1;$cacheResults=[];$cityName=n("#u_mycity").length>0?n("#u_mycity").val():"";$citygroups=["mumbai","navi-mumbai"];$isCityGroup=n.inArray($cityName,$citygroups)!=-1?1:0;$cacheName="SP_LocalitySearch_"+$cityName;n("body").append("<input type='hidden' id='hdnCSLocalities'>");n("body").append("<input type='hidden' id='hdnEventTrack' value='load'>");$minWidth=400},InitEvents:function(){n.fn.extend({AddLocality:function(i,r){var f=n(this),u;f.hasClass("CommonSearch")&&i!=undefined&&i.length>0&&($thisTxtSearch=f,t.Common.AddorRemoveLocality(i,!0),t.Common.AddLocality($thisTxtSearch,i,r),u=$thisTxtSearch.parents("#csContainer").find(".locality-holder"),u.has(".header").length>0&&(u.children(".item").hide(),u.children(".header").css("display","inline-block"),$thisTxtSearch.val("")),u.removeClass("open"))},Clear:function(){var i=n(this),t;i.hasClass("CommonSearch")&&(t=i.parents("#csContainer"),t.find(".locality-holder .item").remove(),t.find(".locality-holder .header").remove(),t.find(".CommonSearch").attr("placeholder","Enter location"))}});n("body").on("focus",".CommonSearch[auto-search='1']",function(){var t,r,i,u;$thisTxtSearch=n(this);t=$thisTxtSearch.parents("#csContainer");r=t.find(".searchresults");n(".searchresults").hide();t.find("[data-contains='view-all-locality']").hide();$iebrowser==!0&&($thisTxtSearch.val()==$thisTxtSearch.attr("placeholder")||$thisTxtSearch.val().startsWith("Add more"))?$thisTxtSearch.val(""):"";$thisTxtSearch.val().length>0&&t.find(".item").length>0&&!r.is(":visible")?(r.slideDown(500),n("#csContainer").removeClass("error"),n("#errcompLocality").text("")):r.hide();$thisTxtSearch.val().length==0&&t.has("[data-contains='view-all-locality']").length>0&&t.find(".locality-holder .item").length<=2&&(navigator.userAgent.indexOf("iPad")!=-1?t.find("[data-contains='view-all-locality']").hide():t.find("[data-contains='view-all-locality']").show());i=n(this).attr("data-city");i!=undefined&&i!=""&&i!=null?($cityName=i,$cacheName="SP_LocalitySearch_"+$cityName):(u=n("#pagetype").val(),u=="cityhomepage"&&(i=n("#u_mycity").val(),$cityName=i,$cityName=="delhi"&&($cityName="delhi-ncr")),$cacheName="SP_LocalitySearch_"+$cityName)});n("body").on("keyup",".CommonSearch[auto-search='1']",function(i){t.Common.OnKeyUp(n(this),i)});n("body").on("blur",".CommonSearch[auto-search='1']",function(){if($iebrowser){var t=n(this);(t.val()==""||t.val()==t.attr("placeholder"))&&t.val(t.attr("placeholder"))}});n("body").on("keydown",".CommonSearch[auto-search='1']",function(n){(n.keyCode==40||n.keyCode==38||n.keyCode==8||n.keyCode==13||n.keyCode==27)&&t.Common.DoKeyActions(n)});n("body").on("keypress",".CommonSearch[auto-search='1']",function(i){var r=new RegExp("^[a-zA-Z0-9. \b]+$"),u=String.fromCharCode(i.charCode?i.charCode:i.which);r.test(u)||n("#pagetype").val()!="NRIHome"&&t.Common.StopPropogation(i)});n(".CommonSearch[auto-search='1']").bind("cut paste",function(){$thisTxtSearch=n(this);$thisTxtSearch.parents("#csContainer").find("#hdnCount").attr("data-del","1");setTimeout(function(){t.Common.Search($thisTxtSearch.val());10})});n("body").on("click",".searchresults [data-type='locality']",function(){var i;if(n("#hdnEventTrack").val("click"),i=!0,n("#ExpiryProjectFlag").length>0&&n("#ExpiryProjectFlag").addClass("load"),n("#pagetype").val()=="MyDashboard"&&n("#hdnAppName").length>0&&(i=t.MyDashboardCommon.CheckAdLocations(n(this))),i)if($thisTxtSearch=n(this).parents("#csContainer").find(".CommonSearch"),i=$thisTxtSearch.attr("text-mode")==undefined?"multiple":$thisTxtSearch.attr("text-mode"),i=="single")$thisTxtSearch.parents("#csContainer").find(".locality-holder li:not('.search-input')").remove(),$thisTxtSearch.attr("data-selected",""),t.Common.GetLocality(n(this)),$thisTxtSearch.attr("placeholder","Enter Location"),n(this).parents("#csContainer").find(".searchresults").hide();else{if(t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected").length==10)return alert("A maximum of 10 localities is allowed."),n(this).parents("#csContainer").find(".searchresults").hide(),!1;t.Common.GetLocality(n(this));n(this).parents("#csContainer").find(".searchresults").hide()}});n("body").on("click",".searchresults li a",function(){$thisTxtSearch.val("");n(this).parents("#csContainer").find(".searchresults").hide()});n("body").on("click",".search-data span",function(){$thisTxtSearch=n(this).parents("#csContainer").find(".CommonSearch");t.Common.AddorRemoveLocality(n(this).parent().attr("data-value"),!1);n(this).parent().remove();$isCityGroup==1&&t.Common.CheckCityGrouping()});n("body").on("click",".search-data .header",function(){$thisTxtSearch=n(this).parents("#csContainer").find(".CommonSearch");t.Common.ShowSelectedLocalities()});n("body").on("click","[data-contains='view-all-locality'] .right",function(i){t.Common.StopPropogation(i);n(this).parents(".dropdown-menu").hide()});n("body").on("click","[data-contains='view-all-locality']",function(n){t.Common.StopPropogation(n);Property.common.process(!0,"Loading Localities");t.Common.ActivateViewAllLocalities(!0)});n("body").on("click","#spc_city-localities .selected-localities i",function(i){t.Common.StopPropogation(i);var u=n(this),f=u.parents(".selected-localities li"),e=t.Common.capitalize(f.attr("data-value")),r=n('#spc_city-localities ul:not(.selected-localities) input[data-value="'+e+'"]'),o=r.prop("checked");o?r.prop("checked",!1):r.prop("checked",!0);r.change()});n("body").on("change","#spc_city-localities input:not([disabled])",function(i){var c,u;t.Common.StopPropogation(i);var o=[],f=n(this),e=f.parent().parent(),r=f.attr("data-value"),s=n("#spc_city-localities .selected-localities > ul"),h=s.find("li");if(f.is(":checked")){if(n("#spc_city-localities .selected-localities ul li").size()==10)return alert("A maximum of 10 localities is allowed."),f.prop("checked",!1),!1;c=h.filter('[data-value="'+r+'"]');c.length==0&&(u='<li data-value="'+r+'">'+r+'<a class="close" href=""><i class="icon-remove-sign"><\/i><\/a><\/li>',s.append(u),u='<label class="checkbox"><input type="checkbox" data-value="'+r+'" checked="checked">'+e.text()+"<\/label>",e.html(u))}else r==""?f.prop("checked",!0):(h.remove('[data-value="'+r+'"]'),u='<label class="checkbox"><input type="checkbox" data-value="'+r+'">'+e.text()+"<\/label>",e.html(u));n("#spc_city-localities .selected-localities ul li").each(function(){o.push(n(this).attr("data-value"))});$thisTxtSearch.attr("data-selected-new",o.join(","));n('#spc_city-localities [data-for="loading"]').show();t.Common.ActivateViewAllLocalities(!0,"change")});n("body").on("click","#spc_city-localities .primary",function(i){var r,u,f;Property.common.process(!1,"Loading Localities");t.Common.StopPropogation(i);r=$thisTxtSearch.parents("#csContainer");n(this).siblings().click();$thisTxtSearch.attr("data-selected-new")!=undefined&&(u=$thisTxtSearch.attr("data-selected-new")==null?"":$thisTxtSearch.attr("data-selected-new"),$thisTxtSearch.attr("data-selected",u),$thisTxtSearch.removeAttr("data-selected-new"),f=$thisTxtSearch,r.children(".search-list").remove(),f.appendTo(r),$thisTxtSearch.val(""),t.Common.InitCommonSearch($thisTxtSearch))});n("body").on("click",'[data-for="cancel"]',function(i){Property.common.process(!1,"Loading Localities");t.Common.StopPropogation(i);var r=n("#spc_city-localities");r.removeClass("modal-show");setTimeout(function(){r.modal("hide")},500)});n(document).mousedown(function(t){var r,i;n(t.target).is(n("[data-contains='view-all-locality'] a"))||n("[data-contains='view-all-locality']").hide();r=$thisTxtSearch==null?n(".searchresults"):$thisTxtSearch.parents("#csContainer").find(".searchresults");r.has(t.target).length==0&&r.parents("#csContainer").has(t.target).length==0&&(n(".searchresults").hide(),$thisTxtSearch!=null&&(i=$thisTxtSearch.parents("#csContainer").find(".locality-holder"),i.has(".header").length>0&&(console.log("mousedown"),i.children(".item").hide(),i.children(".header").css("display","inline-block"),$thisTxtSearch.val("")),i.removeClass("open")))});n("body").on("click",'[data-type="locality"]',function(){_gaq.push(["_trackEvent","UX - Locality Search","Locality selected",n("#pagetype").val()])});n("body").on("click",'[data-type="projects"] a',function(){_gaq.push(["_trackEvent","UX - Locality Search","Project selected",n("#pagetype").val()])});n("body").on("click",'[data-type="businesses"] a',function(){_gaq.push(["_trackEvent","UX - Locality Search","Business selected",n("#pagetype").val()])});n("body").on("click","#csContainer .search-list",function(){var t=n(this);t.find(".CommonSearch").focus()})},Init:function(){t.Common.InitVariables();n(".CommonSearch[auto-search='1']").each(function(){t.Common.CalcDisRecordCount(n(this));t.Common.InitCommonSearch(n(this))});t.Common.ClearLocalStorage();localStorage[$cacheName]==null&&setTimeout(t.Common.LoadLocalityLS(),500);t.Common.InitEvents()},InitCommonSearch:function(i){var r,u,e,f,o;if($thisTxtSearch=i,$iebrowser&&$thisTxtSearch.val()==""&&$thisTxtSearch.val($thisTxtSearch.attr("placeholder")),r=$thisTxtSearch.parents("#csContainer"),r.length>0){if(r.append("<span class='search-list'> <\/span>"),r.find(".search-list").append("<div class='search-data'><\/div>"),r.find(".search-data").append("<ul id='ulSelected' class='locality-holder'><\/ul>"),r.find(".search-data ul").append("<li class='search-input'><\/li>"),$thisTxtSearch.appendTo($thisTxtSearch.parent().find(".search-input")),$thisTxtSearch.attr("data-filter-locality")!="0"){for(u=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),e="",f=0;f<u.length;f++)e=u[f],e.toLowerCase()=="ayappakkam"&&(e="Ayappakkam (ECR)"),n("<li class='item'title='"+u[f]+"' data-value='"+u[f]+"'>"+e+"<span title='Delete'>&times;<\/span><\/li>").insertBefore(r.find(".search-input"));o=$thisTxtSearch.attr("view-all-locality")==undefined?"false":$thisTxtSearch.attr("view-all-locality");o=="true"&&n(window).width()>$minWidth&&r.find(".search-data").has(".dropdown-menu").length==0&&r.find(".search-data").append('<ul class="dropdown-menu" data-contains="view-all-locality" role="menu"><li data-value=""><a>View All Localities<b class="right">X <\/b><\/a><\/li><\/ul>');t.Common.AddorRemoveLocality("",!1);u.length>1&&(r.find(".search-data .item").hide(),r.find(".search-data .header").css("display","inline-block"),t.Common.ToggleCS("Add more..","100px","auto"))}r.has(".searchresults").length!=0&&r.find(".searchresults").remove();r.find(".search-data").append("<div class='searchresults' style='display:none;'><\/div>");$thisTxtSearch.parents("#csContainer").find(".searchresults").append("<ul><\/ul>")}else i.attr("auto-search","0");$thisTxtSearch.blur()},InitCommonSearchV1:function(){n(".CommonSearch[auto-search='1']").each(function(){n(this).parent(".search-input").length==0&&(t.Common.CalcDisRecordCount(n(this)),t.Common.InitCommonSearch(n(this)))})},LoadLocalityLS:function(){if($cityName!=""){var t="/CommonSearch/GetSearchResults?sText=&sType=location&city="+$cityName+"&localities=&locationCount=0&businessCount=0&projectCount=0&cg="+$isCityGroup;n.ajax({url:t,type:"GET",success:function(n){n.length!=0&&(localStorage[$cacheName]=JSON.stringify(n))}})}},ClearLocalStorage:function(){var n,u;try{n=new Date;n.setDate(n.getDate()+1);var i=Math.round(n.getTime()/1e3),t="commonsearch_ttl_"+$cityName,r=localStorage[t];r==undefined?(localStorage[t]=i,localStorage.removeItem($cacheName)):(u=Math.round((new Date).getTime()/1e3),u>r&&(localStorage.removeItem($cacheName),localStorage[t]=i))}catch(f){console.log(f)}},OnKeyUp:function(i,r){var o,s;$thisTxtSearch=i;var h=new RegExp("^[a-zA-Z0-9. \b]+$"),e=r.keyCode?r.keyCode:r.which,u=$thisTxtSearch.parents("#csContainer"),f=u.find("#hdnCount"),c=f.attr("data-search"),l=(e==8||e==46)&&$thisTxtSearch.val()!=""||f.attr("data-prj-count")=="0"&&f.attr("data-bsns-count")=="0"?0:1;f.attr("data-search",$thisTxtSearch.val());n(window).width()>$minWidth&&e!=27&&t.Common.ShowSelectedLocalities();$thisTxtSearch.val().length==0&&(u.find(".locality-holder .item").length<=2&&(navigator.userAgent.indexOf("iPad")!=-1?u.find("[data-contains='view-all-locality']").hide():u.find("[data-contains='view-all-locality']").show()),u.find(".searchresults").hide(),u.find(".searchresults ul li").remove(),$cacheResults==[]);h.test($thisTxtSearch.val())&&Common.ValidateInput(e)&&$thisTxtSearch.val().length>l&&c!=$thisTxtSearch.val()&&(f.attr("data-del","1"),$lastAjaxRequest!=null&&($lastAjaxRequest.abort(),u.find(".progress").remove()),e!=40&&e!=38&&(f.attr("data-prj-count")!="0"||f.attr("data-bsns-count")!="0"||localStorage[$cacheName]==null?(r.preventDefault(),o=this,s=arguments,clearTimeout(n(this).data("timer")),n(this).data("timer",setTimeout(function(){t.Common.AutoComplete.apply(o,s)},500))):t.Common.AutoComplete(i,r)))},AutoComplete:function(i,r){if($pasteEvent=!1,$thisTxtSearch.parents("#csContainer").find("[data-contains='view-all-locality']").hide(),r.keyCode==8&&$cacheResults.length!=0){var u=n.grep($cacheResults,function(n){return n.key==$thisTxtSearch.val()});u.length>0?(localStorage[$cacheName]==null&&t.Common.LoadLocalityLS(),t.Common.SearchLocalityLS($thisTxtSearch.val(),null,!0),t.Common.SearchLocalityLS("",u[0].value,!1)):t.Common.Search($thisTxtSearch.val())}else t.Common.Search($thisTxtSearch.val())},ToggleCS:function(i,r,u){var e=n("#hdnEventTrack").val(),f=$thisTxtSearch.parents("#csContainer");f.find(".CommonSearch").attr("placeholder",i);$iebrowser&&f.find(".CommonSearch").val(i);n(window).width()<=$minWidth?t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected").length>0?(f.find(".CommonSearch").css("width","95px"),e=="click"&&f.find(".CommonSearch").focus(),f.find(".search-input").css("width","95px")):(f.find(".CommonSearch").css("width","100%"),e=="click"&&f.find(".CommonSearch").focus(),f.find(".search-input").css("width","100%")):(f.find(".CommonSearch").css("width",r),e=="click"&&f.find(".CommonSearch").focus(),f.find(".search-input").css("width",u),n("#ExpiryProjectFlag").length!=1||n("#ExpiryProjectFlag").hasClass("load")||(n.browser.chrome?n("body").scrollTop(0):n.browser.mozilla?n(window).scrollTop(0):n.browser.msie&&n("body").scrollTop(0)))},GetPlaceHolder:function(){var t=$thisTxtSearch.parents("#csContainer").find("#hdnCount"),n="Enter";return t.attr("data-loc-count")!="0"&&(n=n+" Location"),t.attr("data-prj-count")!="0"&&(n=n+", Project"),t.attr("data-bsns-count")!="0"&&(n=n+" or Business"),n},ValidateInput:function(n){var t=$thisTxtSearch.attr("data-device");return t=t==null||t==undefined?"":t.toLowerCase(),n==8||n==46||n==0||n==229?!0:n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?!0:t=="true"?!0:!1},Search:function(n){var c=new RegExp("^[a-zA-Z0-9. \b]+$"),f;if(n.length==0||!c.test(n))return!1;var e="",r=0,i=$thisTxtSearch.parents("#csContainer"),l=i.find(".searchresults ul"),u=i.find("#hdnCount"),o=u.attr("data-loc-count"),s=u.attr("data-prj-count"),h=u.attr("data-bsns-count");o!="0"&&localStorage[$cacheName]!=null?(t.Common.SearchLocalityLS(n,null,!0),r=0):r=o;(r!="0"||s!="0"||h!="0")&&(f=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected").join(","),i.find(".searchresults").show(),i.find(".noresults").remove(),i.find(".progress").remove(),i.find(".searchresults ul").append("<li class='progress not-select'>Searching...<\/li>"),e=$crossDomaiRequest?"//apiprop.sulekha.com/Common/azure/CommonHeaderSearch.aspx?q="+n+"&city="+$cityName+"&searchtype=&localities="+f:"/CommonSearch/GetSearchResults?sText="+n+"&sType=&city="+$cityName+"&localities="+f+"&locationCount="+r+"&businessCount="+h+"&projectCount="+s+"&cg="+$isCityGroup,t.Common.FetchSearchResults(n,e))},FetchSearchResults:function(i,r){$lastAjaxRequest=$crossDomaiRequest?n.ajax({url:r,type:"GET",dataType:"jsonp",crossDomain:!0,async:!0}):n.ajax({url:r,type:"GET",dataType:"json",async:!0,success:function(n){n!=null&&n!=""&&n.length!=0&&t.Common.CachePreviousResults(i,n);t.Common.SearchLocalityLS("",n,!1)},error:function(){}})},CreateSearchFilters:function(){var i=[],t=$thisTxtSearch.parents("#csContainer").find("#hdnCount"),r=t.attr("data-loc-count"),u=t.attr("data-prj-count"),f=t.attr("data-bsns-count"),n={};return n.count=t.attr("data-loc-count"),n.type="location",n.headerText="Locations",i.push(n),n={},n.count=t.attr("data-prj-count"),n.type="project",n.headerText="Projects",i.push(n),n={},n.count=t.attr("data-bsns-count"),n.type="business",n.headerText="Businesses",i.push(n),i},SearchCallback:function(i,r){$thisTxtSearch.val()==r&&(t.Common.SearchLocalityLS($thisTxtSearch.val(),n.parseJSON(i),!1),t.Common.CachePreviousResults(r,n.parseJSON(i)))},ShowSelectedLocalities:function(){var n=$thisTxtSearch.parents("#csContainer");n.has(".header").length>0&&!n.find(".locality-holder").children(".item").is(":visible")&&(n.find(".searchresults").hide(),n.find(".locality-holder").addClass("open"),n.find(".locality-holder").hide(),n.find(".locality-holder").children(".header").hide(),n.find(".locality-holder").children(".item").show(),n.find(".locality-holder").slideDown(500),n.find(".CommonSearch").focus());n.find("[data-contains='view-all-locality']").hide()},SearchLocalityLS:function(i,r,u,f){var s,h,o;$isCityGroup=n.inArray($cityName,$citygroups)!=-1?1:0;f&&$thisTxtSearch.parents("#csContainer").find(".searchresults li").remove();var e=t.Common.CreateSearchFilters(),l=$thisTxtSearch.parents("#csContainer").find("#hdnCount"),c=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected");if(i=i.toLowerCase(),searchResults=[],searchResults1=[],searchResults2=[],results=null,results=r==null?n.parseJSON(localStorage[$cacheName]):r,s=0,e.length>0)for(h=n.grep(e,function(n){return n.count>0}).length>1?!0:!1,o=0;o<e.length;o++)s=e[o].count,f=l.attr("data-del")=="1"?!0:!1,s>0&&(u&&e[o].type=="location"?(results=c.length>0?n.grep(results,function(t){return n.inArray($cityName!="delhi-ncr"&&$isCityGroup!=1?t.sText:t.sText.substring(0,t.sText.indexOf("@")).trim(),c)==-1}):results,searchResults1=n.grep(results,function(n){return n.sText.toLowerCase().startsWith(i)&&n.sType.toLowerCase()==e[o].type}),(i.startsWith("om")||i.startsWith("ec")||i.startsWith("t n"))&&$cityName=="chennai"&&searchResults1.push(t.Common.GetLocaity_SQ(i)),searchResults=searchResults1.length>s?searchResults.concat(searchResults1.slice(0,s)):searchResults.concat(searchResults1),searchResults1.length<s&&(searchResults2=n.grep(results,function(n){return n.sText.toLowerCase().indexOf(i)!=-1&&n.sType.toLowerCase()==e[o].type&&!n.sText.toLowerCase().startsWith(i)}),searchResults=searchResults2.length>s-searchResults1.length?searchResults.concat(searchResults2.slice(0,s-searchResults1.length)):searchResults.concat(searchResults2)),searchResults.length!=0?t.Common.RenderHTML(searchResults,h==!0?e[o].headerText:"",f):(searchResults=t.Common.ShowEmptyResult(e[o].type),t.Common.RenderHTML(searchResults,h==!0?e[o].headerText:"",f))):r!=null&&(searchResults1=n.grep(results,function(n){return n.sType.toLowerCase()==e[o].type}),searchResults1.length!=0&&t.Common.RenderHTML(searchResults1,h==!0?e[o].headerText:"",f)));$thisTxtSearch.parents("#csContainer").find(".searchresults ul li").length>0?$thisTxtSearch.parents("#csContainer").find(".searchresults").scrollTop(0).show():$thisTxtSearch.parents("#csContainer").find(".searchresults").hide()},GetLocaity_SQ:function(n){var t={},i=n;return(n.startsWith("om")?i="Old Mahabalipuram Road":n.startsWith("ec")?i="East Coast Road":n.startsWith("t n")&&(i="T.nagar"),n==i)?results:(t.cId=0,t.sText=i,t.sType="Location",t.URL="",t)},ShowEmptyResult:function(n){var i=[],t={};return t.cId=-1,t.URL="",t.sType="NoRecords",n=="location"?t.sText="No Location Available":n=="project"?t.sText="No Project Available":n=="business"&&(t.sText="No Business Available"),i.push(t),i},RenderHTML:function(i,r,u){var o="",s="",a=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),c=$thisTxtSearch.parents("#csContainer").find(".searchresults"),e=c.find("ul"),l="",f,h;if(u&&($thisTxtSearch.parents("#csContainer").find("#hdnCount").attr("data-del","0"),e.children("li").remove()),n(e).children(".progress").remove(),n(e).children(".noresults").remove(),i.length>0)for(f=0;f<i.length;f++)l=i[f].URL==null?"":i[f].URL,f==0&&i[f].cId!="-1"&&(s=n("<li class='item not-select'><span>"+r+"<\/span><\/li>"),r!=""?n(e).append(s):n(e).append(s.addClass("hide"))),o=t.Common.HighlightText($thisTxtSearch.val(),i[f].sText),i[f].cId=="-1"&&e.find(".item").length==0?n(e).append(n("<li  class='noresults'>No results found<\/li>")):l.length!=0?(($cityName=="delhi-ncr"||$isCityGroup==1)&&(o=o.replace("@","-")),n(e).append("<li class='item' data-type='"+r.toLowerCase()+"'> <a data-id='"+i[f].cId+"' target='_blank' href='http://property.sulekha.com/"+l+"?ref=commonsearch'>"+o+"<\/a><\/li>")):i[f].cId!="-1"&&(h=i[f].sText,($cityName=="delhi-ncr"||$isCityGroup==1)&&(h=h.substring(0,h.indexOf("@")).trim(),o=o.replace("@","-")),s=n("<li  class='item' data-type='locality' data-val='"+h+"'>"+o+"<\/li>"),n(e).append(s));else e.hide();!c.is(":visible")&&c.find("li").length>0&&c.slideDown()},DoKeyActions:function(i){var r=$thisTxtSearch.parents("#csContainer"),u,f,e,o;i.keyCode==40||i.keyCode==38&&r.find(".searchresults").is(":visible")?(t.Common.StopPropogation(i),t.Common.SelectItem(i.keyCode)):i.keyCode==13?(u=!0,n("#pagetype").val()=="MyDashboard"&&n("#hdnAppName").length>0&&(u=t.MyDashboardCommon.CheckAdLocations(r.find(".hover").length>0?r.find(".hover"):null)),r.find(".hover").length>0&&r.find(".hover a").length==0&&r.find(".searchresults").is(":visible")&&u==!0?(t.Common.StopPropogation(i),u=$thisTxtSearch.attr("text-mode")==undefined?"multiple":$thisTxtSearch.attr("text-mode"),u=="single"?(f=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),f.length>0?($thisTxtSearch.parents("#csContainer").find(".locality-holder li:not('.search-input')").remove(),$thisTxtSearch.attr("data-selected",""),t.Common.GetLocality(r.find(".hover")),$thisTxtSearch.attr("placeholder","Enter Location"),n(this).parents("#csContainer").find(".searchresults").hide()):t.Common.GetLocality(r.find(".hover"))):(f=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),f.length==10?(alert("A maximum of 10 localities is allowed."),$thisTxtSearch.val(""),r.find(".searchresults").hide()):t.Common.GetLocality(r.find(".hover")))):r.find(".hover a").length>0&&r.find(".searchresults").is(":visible")?($thisTxtSearch.val(""),r.find(".searchresults").hide(),r.find(".hover a")[0].click()):n(".hover").parent().is(n("[data-contains='view-all-locality']"))&&(n("[data-contains='view-all-locality']").click(),n("[data-contains='view-all-locality']").find("li").removeClass("hover"))):i.keyCode==8?(e=$thisTxtSearch.parent().prev("li"),e.length>0&&$thisTxtSearch.val().length==0&&e.is(":visible")&&(t.Common.AddorRemoveLocality(e.attr("data-value"),!1),e.remove(),$isCityGroup==1&&t.Common.CheckCityGrouping()),$cacheResults=n.grep($cacheResults,function(n){return n.key!=$thisTxtSearch.val()})):i.keyCode==27&&(r.find(".searchresults").hide(),o=r.find(".locality-holder"),o.has(".header").length>0&&(o.children(".item").hide(),o.children(".header").css("display","inline-block")),t.Common.StopPropogation(i))},ActivateViewAllLocalities:function(i,r,u){var o,h,a,v,f,s,l,e,c;if(o=$thisTxtSearch.attr("data-selected"),o=o==null||o==undefined?[]:n.grep(o.split(","),function(n){return n!=""}),h=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),r=="change"&&(h=t.Common.GetSelectedLocalities($thisTxtSearch,"data-selected-new"),!n("#spc_city-localities").is(":visible")))return!1;if(i===!0&&(i=undefined),i===undefined)return(v="chennai",a="/common/Listings_ajaxv4.aspx?term=localitiesandnearby&city="+$cityName+"&includeLocalities=true&includeNearby=true&req=1&localities="+h.join(",")+"&primarytag="+(n("#u_primarytag").length>0?n("#u_primarytag").val():"")+"&showAll=1",!$cityName||$cityName.toLowerCase()=="india")?(alert("Please select city"),!1):(n.ajax({url:a,success:function(i){t.Common.ActivateViewAllLocalities(i,r,n("#spc_city-localities .all-localities").scrollTop());Property.common.process(!1,"Loading Localities")}}),!0);o=n.grep(i.localities,function(n){return n!=""});s=n.grep(i.nearby,function(n){return n!=""});$modal=n("#spc_city-localities");isModalPresent=$modal.length>0;tempHtml="";for(f in s)s.hasOwnProperty(f)&&(l=n.inArray(s[f],o),l>-1&&o.splice(l,1));isModalPresent||(tempHtml+='<div id="spc_city-localities" class="modal-effect response-widget hide"role="dialog" aria-hidden="false">');tempHtml+='<div class="modal-content"><div class="selected-localities"><ul>';h=n.map(h,function(n){return t.Common.capitalize(n)});o=n.map(o,function(n){return t.Common.capitalize(n)});s=n.map(s,function(n){return t.Common.capitalize(n)});for(f in h)h.hasOwnProperty(f)&&(tempHtml+='<li data-value="'+h[f]+'">'+h[f]+'<a class="close" href=""><i class="icon-remove-sign"><\/i><\/a><\/li>');if(tempHtml+='<\/ul><span class="action"> <a href="" class="button outline large" data-for="cancel">Cancel<\/a> <a href="javascript:void(0)" class="button primary large">Submit <\/a> <\/span> <\/div>',s.length>0){tempHtml+='<div class="nearby locality-list" data-nearby><h4> Nearby Localities <\/h4><ul>';for(f in s)s.hasOwnProperty(f)&&(tempHtml+='<li><label class="checkbox"><input type="checkbox" data-value="'+s[f]+'">'+s[f]+"<\/label><\/li>");tempHtml+="<\/ul><\/div>"}if(o.length>0){for(e=o,c="",f=0;f<e.length;f++)e[f]&&e[f][0]!=c&&(c=e[f][0],e.splice(f,0,c));tempHtml+='<div class="all-localities"><div class="locality-list">';for(f in e)e.hasOwnProperty(f)&&(e[f].length===1?(f!=0&&(tempHtml+="<\/ul><\/div>"),tempHtml+='<div class="locality-set"><h5>'+e[f]+"<\/h5><ul>"):tempHtml+='<li><label class="checkbox"><input type="checkbox" data-value="'+e[f]+'"'+(n.inArray(e[f],h)>-1?' checked="checked"':"")+">"+e[f]+"<\/label><\/li>");tempHtml+="<\/div><\/div>"}tempHtml+='<div class="hide" data-for="loading">Loading...<\/div><\/div>';isModalPresent||(tempHtml+="<\/div>");isModalPresent?$modal.html(tempHtml):(n("body").append(tempHtml),$modal=n("#spc_city-localities").modal({backdrop:!0,keyboard:!0,escClose:!1}));$modal.hasClass("modal-show")||$modal.modal("show").addClass("modal-show");$modal.on("hidden.bs.modal",function(){$modal.modal("hide").removeClass("modal-show")});return n("#spc_city-localities .all-localities").scrollTop(u==undefined?0:u),n('#spc_city-localities [data-for="loading"]').hide(),!1},capitalize:function(n){return n?n.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()}):""},GetLocality:function(n){if(n.attr("data-type")=="locality"){$lastAjaxRequest!=null&&$lastAjaxRequest.abort();var i=n.attr("class")==undefined?"":n.attr("class");i.indexOf("selected")==-1?(t.Common.AddorRemoveLocality(n.attr("data-val"),!0),t.Common.AddLocality($thisTxtSearch,n.attr("data-val"),n.text().trim()),n.addClass("selected")):(n.removeClass("selected"),$thisTxtSearch.parents("#csContainer").find(".search-data [data-value='"+n.attr("data-val")+"']").remove(),t.Common.AddorRemoveLocality(n.attr("data-val"),!1))}},AddLocality:function(i,r,u){if(u.length!=0){i.val("");i.parents("#csContainer").find("#hdnCount").attr("data-search",i.val());var e=i.parents("#csContainer"),f=n("<li class='item' data-value='"+r+"'>"+u+"<span title='Delete'>&times;<\/span><\/li>");f.insertBefore(e.find(".search-input"));f.attr("title",u);e.find(".header").is(":visible")?f.css("display","none"):(f.css("opacity","0"),f.animate({opacity:"1"},500,"swing",function(){e.find(".header").is(":visible")?f.css("display","none"):f.removeAttr("style")}));$isCityGroup==1&&t.Common.CheckCityGrouping()}},AddorRemoveLocality:function(i,r){var f=$thisTxtSearch.parents("#csContainer"),u=$thisTxtSearch.attr("data-selected")==undefined?[]:$thisTxtSearch.attr("data-selected").split(","),o,e,s;u=n.grep(u,function(n){return n!=i&&n!=""});r&&u.push(i);$thisTxtSearch.attr("data-selected",u.join(","));o=f.find(".locality-holder .header").is(":visible");f.find(".locality-holder .header").remove();e="";u.length>1&&(e=n("<li class='header'>+"+(u.length>1?u.length-1:u.length)+"<\/li>"),f.find(".locality-holder").prepend(e).addClass("open"),n(window).width()>$minWidth?f.find(".locality-holder").prepend("<li class='header'>"+u[0]+"<\/li>"):(s=u[0].length>15?u[0].substring(0,15)+"..":u[0],f.find(".locality-holder").prepend("<li class='header' title='"+u[0]+"'>"+s+"<\/li>")));u.length==0?t.Common.ToggleCS(t.Common.GetPlaceHolder(),"100%","100%"):t.Common.ToggleCS("Add more..","100px","auto");o=n(window).width()<$minWidth||n("#pagetype").val()=="home"?!0:!1;o&&e!=""&&r&&(f.find(".searchresults").hide(),f.find(".item").css("display","none"),f.find(".header").css("display","inline-block"),e.css("opacity","0"),e.animate({opacity:"1"},500,function(){}))},CheckCityGrouping:function(t){t!=undefined&&($thisTxtSearch=t);var r=localStorage[$cacheName],u=Common.GetSelectedLocalities($thisTxtSearch,"data-selected"),i=[];u.length>0&&r!=undefined?(r=JSON.parse(r),n.each(u,function(t,u){var f=n.grep(r,function(n){return n.sText.startsWith(u)});f.length>0&&n.each(f,function(t,r){var u=r.sText,f=u.substring(u.indexOf("@")+1,u.length).trim();n.inArray(f,i)==-1&&i.push(f)})}),i.length>1?$thisTxtSearch.attr("data-grp-city","1"):i.length==1&&($cityName==i[0].toLowerCase().replace(" ","-")?$thisTxtSearch.attr("data-grp-city","0"):$thisTxtSearch.attr("data-grp-city","1"))):$thisTxtSearch.attr("data-grp-city","0")},HighlightText:function(n,t){var r,i;try{for(r=new RegExp(n,"ig"),n=t.match(r),n=n==null||n==undefined?[]:n,t.toLowerCase()=="ayappakkam"&&(t="Ayappakkam (ECR)"),i=0;i<n.length;i++)t=t.replace(n[i],"<####>"+n[i]+"<\/####>")}catch(u){}return t.replace(/####/g,"b")},SelectItem:function(t){var i=$thisTxtSearch.parents("#csContainer").find(".searchresults ul"),u=$thisTxtSearch.parents("#csContainer").find("[data-contains='view-all-locality']"),r=i.parent().scrollTop(),f=n(i).children(".item").length;if(u.find("li").removeClass("hover"),i.find(".hover").length==0&&f>1)return i.find("li:nth-child(2)").addClass("hover"),!1;if(u.length>0&&u.is(":visible"))return u.children("li").addClass("hover"),!1;f>1&&(t==38?(i.children(".item.hover").prev().is(".not-select")?i.children(".item:not(:nth-child(2)).hover").removeClass("hover").prev().prev().addClass("hover"):i.children(".item:not(:nth-child(2)).hover").removeClass("hover").prev().addClass("hover"),r=i.children(".hover").prev().is(".not-select")?r-63:r-33):t==40&&(i.children(".item.hover").next().is(".not-select")?i.children(".item:not(:last-child).hover").removeClass("hover").next().next().addClass("hover"):i.children(".item:not(:last-child).hover").removeClass("hover").next().addClass("hover"),r=i.children(".hover").next().is(".not-select")?r+63:r+33));i.parent().scrollTop(0);i.parent().scrollTop(r)},CachePreviousResults:function(t,i){$cacheResults=n.grep($cacheResults,function(n){return n.key!=t});var r={};r.key=t;r.value=i;$cacheResults.push(r)},GetSelectedLocalities:function(t,i){var r=t.attr(i);return r==null||r==undefined?[]:n.grep(r.split(","),function(n){return n!=""})},CalcDisRecordCount:function(t){var i=n("<input type='hidden' id='hdnCount' />"),r=t.attr("data-filter-locality"),u=t.attr("data-filter-project"),f=t.attr("data-filter-business");i.attr("data-loc-count",n.isNumeric(r)?r:1e3);i.attr("data-prj-count",n.isNumeric(u)?u:0);i.attr("data-bsns-count",n.isNumeric(f)?f:0);t.parents("#csContainer").append(i)},StopPropogation:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}};t.Common.Init()}(jQuery,window);String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.indexOf(n,t)===t})