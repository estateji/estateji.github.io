(function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,getUniqueId:function(){var n=0;return function(){return n++}}(),templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},noop:function(){}}}(),l="0.10.5",a=function(){"use strict";function n(n){return n=t.toStr(n),n?n.split(/\s+/):[]}function i(n){return n=t.toStr(n),n?n.split(/\W+/):[]}function r(n){return function(){var i=[].slice.call(arguments,0);return function(r){var u=[];return t.each(i,function(i){u=u.concat(n(t.toStr(r[i])))}),u}}}return{nonword:i,whitespace:n,obj:{nonword:r(i),whitespace:r(n)}}}(),o=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100;this.reset();this.maxSize<=0&&(this.set=this.get=n.noop)}function r(){this.head=this.tail=null}function u(n,t){this.key=n;this.val=t;this.prev=this.next=null}return t.mixin(i.prototype,{set:function(n,t){var r=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]);(i=this.hash[n])?(i.val=t,this.list.moveToFront(i)):(i=new u(n,t),this.list.add(i),this.hash[n]=i,this.size++)},get:function(n){var t=this.hash[n];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0;this.hash={};this.list=new r}}),t.mixin(r.prototype,{add:function(n){this.head&&(n.next=this.head,this.head.prev=n);this.head=n;this.tail=this.tail||n},remove:function(n){n.prev?n.prev.next=n.next:this.head=n.next;n.next?n.next.prev=n.prev:this.tail=n.prev},moveToFront:function(n){this.remove(n);this.add(n)}}),i}(),v=function(){"use strict";function r(n){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(n){return JSON.parse(n)}var n,i;try{n=window.localStorage;n.setItem("~~~","!");n.removeItem("~~~")}catch(o){n=null}return i=n&&window.JSON?{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),e(n.getItem(this._prefix(t)))},set:function(i,r,e){return t.isNumber(e)?n.setItem(this._ttlKey(i),f(u()+e)):n.removeItem(this._ttlKey(i)),n.setItem(this._prefix(i),f(r))},remove:function(t){return n.removeItem(this._ttlKey(t)),n.removeItem(this._prefix(t)),this},clear:function(){for(var r,i=[],u=n.length,t=0;t<u;t++)(r=n.key(t)).match(this.keyMatcher)&&i.push(r.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(i){var r=e(n.getItem(this._ttlKey(i)));return t.isNumber(r)&&u()>r?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(r.prototype,i),r}(),s=function(){"use strict";function i(t){t=t||{};this.cancelled=!1;this.lastUrl=null;this._send=t.transport?s(t.transport):n.ajax;this._get=t.rateLimiter?t.rateLimiter(this._get):this._get;this._cache=t.cache===!1?new o(0):e}function s(i){return function(r,u){function e(n){t.defer(function(){f.resolve(n)})}function o(n){t.defer(function(){f.reject(n)})}var f=n.Deferred();return i(r,u,e,o),f}}var r=0,u={},f=6,e=new o(10);return i.setMaxPendingRequests=function(n){f=n},i.resetCache=function(){e.reset()},t.mixin(i.prototype,{_get:function(n,t,i){function s(t){i&&i(null,t);e._cache.set(n,t)}function h(){i&&i(!0)}function c(){r--;delete u[n];e.onDeckRequestArgs&&(e._get.apply(e,e.onDeckRequestArgs),e.onDeckRequestArgs=null)}var e=this,o;this.cancelled||n!==this.lastUrl||((o=u[n])?o.done(s).fail(h):r<f?(r++,u[n]=this._send(n,t).done(s).fail(h).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i,r){var u;return t.isFunction(i)&&(r=i,i={}),this.cancelled=!1,this.lastUrl=n,(u=this._cache.get(n))?t.defer(function(){r&&r(null,u)}):this._get(n,i,r),!!u},cancel:function(){this.cancelled=!0}}),i}(),y=function(){"use strict";function i(t){t=t||{};t.datumTokenizer&&t.queryTokenizer||n.error("datumTokenizer and queryTokenizer are both required");this.datumTokenizer=t.datumTokenizer;this.queryTokenizer=t.queryTokenizer;this.reset()}function r(n){return n=t.filter(n,function(n){return!!n}),t.map(n,function(n){return n.toLowerCase()})}function u(){return{ids:[],children:{}}}function f(n){for(var i={},r=[],t=0,u=n.length;t<u;t++)i[n[t]]||(i[n[t]]=!0,r.push(n[t]));return r}function e(n,t){function o(n,t){return n-t}var i=0,r=0,u=[],f,e;for(n=n.sort(o),t=t.sort(o),f=n.length,e=t.length;i<f&&r<e;)n[i]<t[r]?i++:n[i]>t[r]?r++:(u.push(n[i]),i++,r++);return u}return t.mixin(i.prototype,{bootstrap:function(n){this.datums=n.datums;this.trie=n.trie},add:function(n){var i=this;n=t.isArray(n)?n:[n];t.each(n,function(n){var f,e;f=i.datums.push(n)-1;e=r(i.datumTokenizer(n));t.each(e,function(n){for(var r,t=i.trie,e=n.split("");r=e.shift();)t=t.children[r]||(t.children[r]=u()),t.ids.push(f)})})},get:function(n){var u=this,o,i;return o=r(this.queryTokenizer(n)),t.each(o,function(n){var t,r,o,f;if(i&&i.length===0)return!1;for(t=u.trie,r=n.split("");t&&(o=r.shift());)t=t.children[o];if(t&&r.length===0)f=t.ids.slice(0),i=i?e(i,f):f;else return i=[],!1}),i?t.map(f(i),function(n){return u.datums[n]}):[]},reset:function(){this.datums=[];this.trie=u()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),f=function(){"use strict";function i(n){return n.local||null}function r(i){var r,u;return u={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),r.thumbprint=l+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",r.url||n.error("prefetch requires url to be set")),r}function u(i){function f(n){return function(i){return t.debounce(i,n)}}function e(n){return function(i){return t.throttle(i,n)}}var r,u;return u={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=i.remote||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?e(r.rateLimitWait):f(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,r.url||n.error("remote requires url to be set")),r}return{local:i,prefetch:r,remote:u}}();(function(i){"use strict";function u(t){t&&(t.local||t.prefetch||t.remote)||n.error("one of local, prefetch, or remote is required");this.limit=t.limit||5;this.sorter=o(t.sorter);this.dupDetector=t.dupDetector||h;this.local=f.local(t);this.prefetch=f.prefetch(t);this.remote=f.remote(t);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new y({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer});this.storage=this.cacheKey?new v(this.cacheKey):null}function o(n){function i(t){return t.sort(n)}function r(n){return n}return t.isFunction(n)?i:r}function h(){return!1}var e,r;return e=i.Bloodhound,r={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.Bloodhound=u,u.noConflict=function(){return i.Bloodhound=e,u},u.tokenizers=a,t.mixin(u.prototype,{_loadPrefetch:function(t){function f(n){i.clear();i.add(t.filter?t.filter(n):n);i._saveToStorage(i.index.serialize(),t.thumbprint,t.ttl)}var i=this,u,r;return(u=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(u),r=n.Deferred().resolve()):r=n.ajax(t.url,t.ajax).done(f),r},_getFromRemote:function(n,t){function f(n,r){n?t([]):t(i.remote.filter?i.remote.filter(r):r)}var i=this,r,u;if(this.transport)return n=n||"",u=encodeURIComponent(n),r=this.remote.replace?this.remote.replace(this.remote.url,n):this.remote.url.replace(this.remote.wildcard,u),this.transport.get(r,this.remote.ajax,f)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(n,t,i){this.storage&&(this.storage.set(r.data,n,i),this.storage.set(r.protocol,location.protocol,i),this.storage.set(r.thumbprint,t,i))},_readFromStorage:function(n){var t={},i;return this.storage&&(t.data=this.storage.get(r.data),t.protocol=this.storage.get(r.protocol),t.thumbprint=this.storage.get(r.thumbprint)),i=t.thumbprint!==n||t.protocol!==location.protocol,t.data&&!i?t.data:null},_initialize:function(){function f(){u.add(t.isFunction(i)?i():i)}var u=this,i=this.local,r;return r=this.prefetch?this._loadPrefetch(this.prefetch):n.Deferred().resolve(),i&&r.done(f),this.transport=this.remote?new s(this.remote):null,this.initPromise=r.promise()},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){this.index.add(n)},get:function(n,i){function e(n){var f=r.slice(0);t.each(n,function(n){var i;return i=t.some(f,function(t){return u.dupDetector(n,t)}),i||f.push(n),f.length<u.limit});i&&i(u.sorter(f))}var u=this,r=[],f=!1;r=this.index.get(n);r=this.sorter(r).slice(0,this.limit);r.length<this.limit?f=this._getFromRemote(n,e):this._cancelLastRemoteRequest();f||(r.length>0||!this.transport)&&i&&i(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),u})(this);var r=function(){return{wrapper:'<span class="twitter-typeahead"><\/span>',dropdown:'<span class="tt-dropdown-menu"><\/span>',dataset:'<div class="tt-dataset-%CLASS%"><\/div>',suggestions:'<span class="tt-suggestions"><\/span>',suggestion:'<div class="tt-suggestion"><\/div>'}}(),i=function(){"use strict";var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(n.input,{marginTop:"-1px"}),n}(),h=function(){"use strict";function i(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var r="typeahead:";return t.mixin(i.prototype,{trigger:function(n){var t=[].slice.call(arguments,1);this.$el.trigger(r+n,t)}}),i}(),e=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?h(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function u(n,i,r){return t.call(this,"async",n,i,r)}function f(n,i,r){return t.call(this,"sync",n,i,r)}function e(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function o(t){var u,f,e,o,s;if(!this._callbacks)return this;for(t=t.split(n),e=[].slice.call(arguments,1);(u=t.shift())&&(f=this._callbacks[u]);)o=i(f.sync,this,[u].concat(e)),s=i(f.async,this,[u].concat(e)),o()&&r(s);return this}function i(n,t,i){function r(){for(var u,r=0,f=n.length;!u&&r<f;r+=1)u=n[r].apply(t,i)===!1;return!u}return r}function s(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function h(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,r=s();return{onSync:f,onAsync:u,off:e,trigger:o}}(),p=function(n){"use strict";function r(n,i,r){for(var f=[],e,u=0,o=n.length;u<o;u++)f.push(t.escapeRegExChars(n[u]));return e=r?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",i?new RegExp(e):new RegExp(e,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,e;return(i=f.exec(t.data))&&(e=n.createElement(u.tagName),u.className&&(e.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),e.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(e,r)),!!i}function e(n,t){for(var r,i=0;i<n.childNodes.length;i++)r=n.childNodes[i],r.nodeType===3?i+=t(r)?1:0:e(r,t)}var f;(u=t.mixin({},i,u),u.node&&u.pattern)&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],f=r(u.pattern,u.caseSensitive,u.wordsOnly),e(u.node,o))}}(window.document),c=function(){"use strict";function i(i){var u=this,e,o,s,h;if(i=i||{},i.input||n.error("input is missing"),e=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),s=t.bind(this._onKeydown,this),h=t.bind(this._onInput,this),this.$hint=n(i.hint),this.$input=n(i.input).on("blur.tt",e).on("focus.tt",o).on("keydown.tt",s),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){r[n.which||n.keyCode]||t.defer(t.bind(u._onInput,u,n))});else this.$input.on("input.tt",h);this.query=this.$input.val();this.$overflowHelper=f(this.$input)}function f(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function u(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return(n||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,e,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(n){var t=r[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(n,t){var i,r,f;switch(n){case"tab":r=this.getHint();f=this.getInputValue();i=r&&r!==f&&!u(t);break;case"up":case"down":i=!u(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!u(t);break;default:i=!0}return i},_checkInputValue:function(){var n,t,i;n=this.getInputValue();t=o(n,this.query);i=t?this.query.length!==n.length:!1;this.query=n;t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(n){this.query=n},getInputValue:function(){return this.$input.val()},setInputValue:function(n,t){this.$input.val(n);t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&t.indexOf(n)===0;r=n!==""&&i&&!this.hasOverflow();r||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return(n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i))?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}}),i}(),u=function(){"use strict";function u(i){i=i||{};i.templates=i.templates||{};i.source||n.error("missing source");i.name&&!l(i.name)&&n.error("invalid dataset name: "+i.name);this.query=null;this.highlight=!!i.highlight;this.name=i.name||t.getUniqueId();this.source=i.source;this.displayFn=h(i.display||i.displayKey);this.templates=c(i.templates,this.displayFn);this.$el=n(r.dataset.replace("%CLASS%",this.name))}function h(n){function i(t){return t[n]}return n=n||"value",t.isFunction(n)?n:i}function c(n,i){function r(n){return"<p>"+i(n)+"<\/p>"}return{empty:n.empty&&t.templatify(n.empty),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||r}}function l(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var f="ttDataset",o="ttValue",s="ttDatum";return u.extractDatasetName=function(t){return n(t).data(f)},u.extractValue=function(t){return n(t).data(o)},u.extractDatum=function(t){return n(t).data(s)},t.mixin(u.prototype,e,{_render:function(u,e){function v(){return h.templates.empty({query:u,isEmpty:!0})}function y(){function a(t){var u;return u=n(r.suggestion).append(h.templates.suggestion(t)).data(f,h.name).data(o,h.displayFn(t)).data(s,t),u.children().each(function(){n(this).css(i.suggestionChild)}),u}var c,l;return c=n(r.suggestions).css(i.suggestions),l=t.map(e,a),c.append.apply(c,l),h.highlight&&p({className:"tt-highlight",node:c[0],pattern:u}),c}function l(){return h.templates.header({query:u,isEmpty:!c})}function a(){return h.templates.footer({query:u,isEmpty:!c})}if(this.$el){var h=this,c;this.$el.empty();c=e&&e.length;!c&&this.templates.empty?this.$el.html(v()).prepend(h.templates.header?l():null).append(h.templates.footer?a():null):c&&this.$el.html(y()).prepend(h.templates.header?l():null).append(h.templates.footer?a():null);this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(n){function i(i){t.canceled||n!==t.query||t._render(n,i)}var t=this;this.query=n;this.canceled=!1;this.source(n,i)},cancel:function(){this.canceled=!0},clear:function(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),u}(),w=function(){"use strict";function r(i){var r=this,u,e,o;i=i||{};i.menu||n.error("menu is required");this.isOpen=!1;this.isEmpty=!0;this.datasets=t.map(i.datasets,f);u=t.bind(this._onSuggestionClick,this);e=t.bind(this._onSuggestionMouseEnter,this);o=t.bind(this._onSuggestionMouseLeave,this);this.$menu=n(i.menu).on("click.tt",".tt-suggestion",u).on("mouseenter.tt",".tt-suggestion",e).on("mouseleave.tt",".tt-suggestion",o);t.each(this.datasets,function(n){r.$menu.append(n.getRoot());n.onSync("rendered",r._onRendered,r)})}function f(n){return new u(n)}return t.mixin(r.prototype,e,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",n(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor();this._setCursor(n(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function n(n){return n.isEmpty()}this.isEmpty=t.every(this.datasets,n);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(n,t){n.first().addClass("tt-cursor");t||this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(n){var i,r,t,u;if(this.isOpen){if(r=this._getCursor(),i=this._getSuggestions(),this._removeCursor(),t=i.index(r)+n,t=(t+1)%(i.length+1)-1,t===-1){this.trigger("cursorRemoved");return}t<-1&&(t=i.length-1);this._setCursor(u=i.eq(t));this._ensureVisible(u)}},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$menu.scrollTop();u=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);t<0?this.$menu.scrollTop(r+t):u<i&&this.$menu.scrollTop(r+(i-u))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(n){this.$menu.css(n==="ltr"?i.ltr:i.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(n){var t=null;return n.length&&(t={raw:u.extractDatum(n),value:u.extractValue(n),datasetName:u.extractDatasetName(n)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(n){function i(t){t.update(n)}t.each(this.datasets,i)},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function n(n){n.destroy()}this.$menu.off(".tt");this.$menu=null;t.each(this.datasets,n)}}),r}(),b=function(){"use strict";function f(i){var r,u,f;i=i||{};i.input||n.error("missing input");this.isActivated=!1;this.autoselect=!!i.autoselect;this.minLength=t.isNumber(i.minLength)?i.minLength:1;this.$node=e(i.input,i.withHint);r=this.$node.find(".tt-dropdown-menu");u=this.$node.find(".tt-input");f=this.$node.find(".tt-hint");u.on("blur.tt",function(n){var i,f,e;i=document.activeElement;f=r.is(i);e=r.has(i).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){u.focus()}))});r.on("mousedown.tt",function(n){n.preventDefault()});this.eventBus=i.eventBus||new h({el:u});this.dropdown=new w({menu:r,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new c({input:u,hint:f}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}function e(t,f){var e,h,c,s;e=n(t);h=n(r.wrapper).css(i.wrapper);c=n(r.dropdown).css(i.dropdown);s=e.clone().css(i.hint).css(o(e));s.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1});e.data(u,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")});e.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(f?i.input:i.inputWithNoHint);try{e.attr("dir")||e.attr("dir","auto")}catch(l){}return e.wrap(h).parent().prepend(f?s:null).append(c)}function o(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function s(n){var i=n.find(".tt-input");t.each(i.data(u),function(n,r){t.isUndefined(n)?i.removeAttr(r):i.attr(r,n)});i.detach().removeData(u).removeClass("tt-input").insertAfter(n);n.remove()}var u="ttAttrs";return t.mixin(f.prototype,{_onSuggestionClicked:function(n,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function(){var n=this.dropdown.getDatumForCursor();this.input.setInputValue(n.value,!0);this.eventBus.trigger("cursorchanged",n.raw,n.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0;this.dropdown.open()},_onBlurred:function(){this.isActivated=!1;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function(n,t){var i,r;i=this.dropdown.getDatumForCursor();r=this.dropdown.getDatumForTopSuggestion();i?(this._select(i),t.preventDefault()):this.autoselect&&r&&(this._select(r),t.preventDefault())},_onTabKeyed:function(n,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function(){var n=this.input.getQuery();this.dropdown.isEmpty&&n.length>=this.minLength?this.dropdown.update(n):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function(){var n=this.input.getQuery();this.dropdown.isEmpty&&n.length>=this.minLength?this.dropdown.update(n):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function(n,t){this.input.clearHintIfInvalid();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function(){var n;this.dir!==(n=this.input.getLanguageDirection())&&(this.dir=n,this.$node.css("direction",n),this.dropdown.setLanguageDirection(n))},_updateHint:function(){var n,i,u,f,e,r;n=this.dropdown.getDatumForTopSuggestion();n&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(i=this.input.getInputValue(),u=c.normalizeQuery(i),f=t.escapeRegExChars(u),e=new RegExp("^(?:"+f+")(.+$)","i"),r=e.exec(n.value),r?this.input.setHint(i+r[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(n){var i,r,u,t;i=this.input.getHint();r=this.input.getQuery();u=n||this.input.isCursorAtEnd();i&&r!==i&&u&&(t=this.dropdown.getDatumForTopSuggestion(),t&&this.input.setInputValue(t.value),this.eventBus.trigger("autocompleted",t.raw,t.datasetName))},_select:function(n){this.input.setQuery(n.value);this.input.setInputValue(n.value,!0);this._setLanguageDirection();this.eventBus.trigger("selected",n.raw,n.datasetName);this.dropdown.close();t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(n){n=t.toStr(n);this.isActivated?this.input.setInputValue(n):(this.input.setQuery(n),this.input.setInputValue(n,!0));this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy();this.dropdown.destroy();s(this.$node);this.$node=null}}),f}();(function(){"use strict";var u,i,r;u=n.fn.typeahead;i="ttTypeahead";r={initialize:function(r,u){function f(){var f=n(this),o,e;t.each(u,function(n){n.highlight=!!r.highlight});e=new b({input:f,eventBus:o=new h({el:f}),withHint:t.isUndefined(r.hint)?!0:!!r.hint,minLength:r.minLength,autoselect:r.autoselect,datasets:u});f.data(i,e)}return u=t.isArray(u)?u:[].slice.call(arguments,1),r=r||{},this.each(f)},open:function(){function t(){var r=n(this),t;(t=r.data(i))&&t.open()}return this.each(t)},close:function(){function t(){var r=n(this),t;(t=r.data(i))&&t.close()}return this.each(t)},val:function(t){function r(){var u=n(this),r;(r=u.data(i))&&r.setVal(t)}function u(n){var t,r;return(t=n.data(i))&&(r=t.getVal()),r}return arguments.length?this.each(r):u(this.first())},destroy:function(){function t(){var t=n(this),r;(r=t.data(i))&&(r.destroy(),t.removeData(i))}return this.each(t)}};n.fn.typeahead=function(t){var u;return r[t]&&t!=="initialize"?(u=this.filter(function(){return!!n(this).data(i)}),r[t].apply(u,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=u,this}})()})(jQuery),function(n,t){t.Property.Autocomplete={metroCities:n.map(["Ahmedabad","Bangalore","Chennai","Hyderabad","Kolkata","Mumbai","Navi Mumbai","Pune","Delhi/NCR","Delhi","Faridabad","Ghaziabad","Greater Noida","Gurgaon","Noida"],function(n){return{name:n}}),catid:2,needViewAll:!1,helpers:{removeEmptyEntries:function(n){if(!(n instanceof Array))throw new Error("Only Arrays can be passed to this function");for(var t=0;t<n.length;)n[t]==null||n[t]===""?n.splice(t,1):t++;return n},capitalize:function(n){return n?n.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()}):""},LocalityLength:function(n){return n.length>15?n.substring(0,15)+"...":n},closeAll:function(){var t=[];t.push(".dropselect .droplist");t.push("[class*=popup]");n(t.toString()).hide()}},registerClicks:function(){var t=Property.Autocomplete,i=t.helpers,r=i.closeAll,u=i.toggle;n(".modal.base-lcf").on("click","#spc_city .dropdown dt",function(t){t.preventDefault();t.stopPropagation();n("#spc_city .dropdown dd .droplist .select-search .typeahead").val("");n("#spc_city .dropdown dd .droplist .select-search input").focus()});n(".modal.base-lcf").on("click touchend","[data-contains=view-all]",function(n){n.stopPropagation();n.preventDefault();r();t.modalClosed=!1;t.localities=t.get("spc_locality").replace(/,$/,"").split(",");i.removeEmptyEntries(t.localities);t.lastScroll=0;t.activateViewAllLocalities(!0)});n("body").on("change","#spc_city-localities input:not([disabled])",function(r){var s,l,f;r.stopPropagation();var e=n(this),o=e.parent().parent(),u=e.attr("data-value"),h=n("#spc_city-localities .selected-localities > ul"),c=h.find("li");if(e.is(":checked")){if(t.localities.length==10)return alert("A maximum of 10 localities is allowed."),e.prop("checked",!1),!1;l=c.filter('[data-value="'+u+'"]');l.length==0&&(f='<li data-value="'+u+'">'+u+'<a class="close" href=""><i class="icon-remove-sign"><\/i><\/a><\/li>',h.append(f),t.localities.push(u),f='<label class="checkbox"><input type="checkbox" data-value="'+u+'" checked="checked">'+o.text()+"<\/label>",o.html(f))}else u==""?e.prop("checked",!0):(s=n.inArray(u,n.map(t.localities,function(n){return i.capitalize(n)})),s>-1&&t.localities.splice(s,1),c.remove('[data-value="'+u+'"]'),f='<label class="checkbox"><input type="checkbox" data-value="'+u+'">'+o.text()+"<\/label>",o.html(f));return!1});n(".modal.base-lcf").on("click touchend","[data-contains=view-all] b",function(n){n.stopPropagation();n.preventDefault();r()});n(".modal.base-lcf .location").on("click",".dropdown .dropselect .droplist li span, .dropdown dt a span b",function(t){t.preventDefault();t.stopPropagation();var r=n("#spc_locality"),o=Property.Autocomplete,f=o.helpers,s=r.attr("data-selected"),u=r.find(".dropdown .dropselect .droplist ul"),e=n(this).parent().attr("data-value"),i=s.split(",");i.pop();i.splice(n.inArray(e,i),1);i.push("");i.length==2?(n("#spc_locality .add-localities span").html(f.LocalityLength(i[0])+'<b class="right">X <\/b>'),n("#spc_locality .add-localities span").addClass("singleloc").parent().addClass("nodrop"),r.find("#divlocalitylist li").remove()):(n("#spc_locality .add-localities span").html(f.LocalityLength(i[0])+" +"+(i.length-2)),n("#spc_locality .add-localities span").removeClass("singleloc").parent().removeClass("nodrop"));i.length==1?(n("#spc_locality .add-localities").remove(),i="",u.children().remove(),u.parent().hide()):(i=i.join(","),u.children('[data-value="'+e+'"]').remove());r.attr("data-selected",i)});n("body").on("click",'[data-for="cancel"]',function(i){r();i.preventDefault();i.stopPropagation();var u=n("#spc_city-localities");u.removeClass("modal-show");setTimeout(function(){u.modal("hide")},500);t.localities=[];t.modalClosed=!0});n("body").on("click","#spc_city-localities .selected-localities i",function(t){t.preventDefault();t.stopPropagation();var u=n(this),f=u.parents(".selected-localities li"),e=i.capitalize(f.attr("data-value")),r=n('#spc_city-localities ul:not(.selected-localities) input[data-value="'+e+'"]'),o=r.prop("checked");o?r.prop("checked",!1):r.prop("checked",!0);r.change()});n("body").on("click","#spc_city-localities .primary",function(i){var f,r,u;if(i.preventDefault(),i.stopPropagation(),f=n(this),r=n("#spc_locality"),r.attr("data-selected",""),n(".filter-panel .add-localities").remove(),r.find("#divlocalitylist li").remove(),n("#spc_locality .tt-hint, #spc_locality .tt-input").css("width","351px"),t.localities.length>0)for(u in t.localities)t.localities.hasOwnProperty(u)&&t.add(t.localities[u]);else t.localities=[];f.siblings().click()})},registerHandlers:function(){var n=Property.Autocomplete;n.registerClicks()},get:function(t){var i=Property.Autocomplete,r=i.helpers;return arguments.length>1?!1:typeof t=="string"?n(".modal.base-lcf #"+t).attr("data-selected"):void 0},activateViewAllLocalities:function(t){var o=Property.Autocomplete,f=undefined,a=o.helpers,b=a.removeEmptyEntries,d=a.urlEncode,k=o.localities,w,c,p,u,l;if(o.modalClosed)return!1;if(t===!0&&(f=o.get("spc_locality"),t=undefined),t===undefined)return(c=o.get("spc_city"),f===undefined&&(f=k),w="/common/home_ajaxv5.aspx?term=citylocality&catid=2&city="+c,!c||c.toLowerCase()=="india")?(o.showerror("citydrop","Please select city"),!1):(n.ajax({url:w,success:function(n){o.activateViewAllLocalities(n)}}),!0);f=t;var i,e="",v=a.capitalize,s=o.localities,h=n("#spc_city-localities"),y=h.length>0,r="";b(f);for(i in e)e.hasOwnProperty(i)&&(p=n.inArray(e[i],f),p>-1&&f.splice(p,1));y||(r+='<div id="spc_city-localities" class="modal-effect response-widget hide"role="dialog" aria-hidden="false">');r+='<div class="modal-content"><div class="selected-localities"><ul>';s=n.map(s,function(n){return v(n)});f=n.map(f,function(n){return v(n)});e=n.map(e,function(n){return v(n)});for(i in s)s.hasOwnProperty(i)&&(r+='<li data-value="'+s[i]+'">'+s[i]+'<a class="close" href=""><i class="icon-remove-sign"><\/i><\/a><\/li>');if(r+='<\/ul><span class="action"> <a href="" class="button outline large" data-for="cancel">Cancel<\/a> <a href="javascript:void(0)" class="button primary large">Submit <\/a> <\/span> <\/div>',e.length>0){r+='<div class="nearby locality-list" data-nearby><h4> Nearby Localities <\/h4><ul>';for(i in e)e.hasOwnProperty(i)&&(r+='<li><label class="checkbox"><input type="checkbox" data-value="'+e[i]+'">'+e[i]+"<\/label><\/li>");r+="<\/ul><\/div>"}if(f.length>0){for(u=f,l="",i=0;i<u.length;i++)u[i]&&u[i][0]!=l&&(l=u[i][0],u.splice(i,0,l));r+='<div class="all-localities"><div class="locality-list">';for(i in u)u.hasOwnProperty(i)&&(u[i].length===1?(i!=0&&(r+="<\/ul><\/div>"),r+='<div class="locality-set"><h5>'+u[i]+"<\/h5><ul>"):r+='<li><label class="checkbox"><input type="checkbox" data-value="'+u[i]+'"'+(n.inArray(u[i],s)>-1?' checked="checked"':"")+">"+u[i]+"<\/label><\/li>");r+="<\/div><\/div>"}r+='<div class="hide" data-for="loading">Loading...<\/div><\/div>';y||(r+="<\/div>");y?h.html(r):(n("body").append(r),h=n("#spc_city-localities").modal({backdrop:!0,keyboard:!0,escClose:!1}));h.hasClass("modal-show")||h.modal("show").addClass("modal-show");h.on("hidden.bs.modal",function(){h.modal("hide").removeClass("modal-show")});return!1},localities:[],lastScroll:0,modalClosed:!1,initCityLocalities:function(t){var i,r,u,f=Property.Autocomplete,s=t==="city"?f.cityautocomplete:f.localityautocomplete,h=f.add,c=f.helpers,o=c.removeEmptyEntries,e;t==="city"?(i=n("#spc_city dl dd .droplist .select-search"),i.html(""),r=i.attr("data-selected").split(","),o(r),i.attr("data-selected",""),u='<input type="text" class="form-control typeahead" />',i.html(u)):(i=n("#spc_locality"),i.html(""),r=i.attr("data-selected").split(","),o(r),i.attr("data-selected",""),u='<input type="text" placeholder="Enter location" class="form-control typeahead" /><dl class="dropdown"><dt><\/dt><dd class="dropselect"><div class="droplist" id="divlocalitylist"><ul><\/ul><\/div><\/dd><\/dl><ul class="dropdown-menu" data-contains="view-all" role="menu" style="display: none;"><li data-value=""><a title="Refine your property search by adding upto 10 localities ">View all localities <b class="right">X <\/b><\/a><\/li><\/ul>',i.html(u));s();for(e in r)r.hasOwnProperty(e)&&h(r[e])},cityautocomplete:function(){var f,r=Property.Autocomplete,e=r.helpers,o=r.catid,h=e.capitalize,s=e.closeAll,u,i;f="/common/home_ajaxv5.aspx?term=citylocality&catid="+o+"&ran=1";u=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:Infinity,prefetch:{url:f,filter:function(t){return n.map(t,function(n){return{name:n}})},ttl:36e5}});u.initialize();i=n("#spc_city dl dd .droplist .select-search .typeahead").attr("placeholder","Enter city");i.typeahead({highlight:!0,minLength:0,hint:!1},{name:"city",displayKey:"name",source:function(t,i){if(!t){var f=r.metroCities;o!=2&&(f=n.grep(r.metroCities,function(n){return n.name==="Delhi/NCR"},!0));i(f);return}u.get(t,function(n){n&&i(n)})},templates:{empty:'<p class="empty-message">Sorry, we don\'t seem to have any cities matching your query at the moment.<\/p>'}}).on("typeahead:selected typeahead:autocompleted",function(t,u){var f=u.name,e;n("#spclcfcity").html(f);n("#spc_city").attr("data-selected",f);i.typeahead("val","");s();e=n("#spc_locality");e.attr("data-selected","");Property.GAP.TrackeEvent({event:"cityentered_lcf_pages_1",action:"submit",leadstatus:"city_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),currentcity:f});r.initCityLocalities("locality");n("#spc_locality .twitter-typeahead input").focus()}).on("keydown",function(t){t.keyCode===8&&i.typeahead("val").length===1&&i.typeahead("val","");t.keyCode===9&&(i.typeahead("val",""),n("#spc_locality .twitter-typeahead input").focus())}).on("focus",function(n){i.typeahead("val","");n.stopPropagation();i.typeahead("val")===""&&(i.typeahead("val","_"),i.typeahead("val",""))});if(t.isLessThanIE9)n("#citydrop").on("mousedown",".tt-dataset-city .tt-suggestion",function(){n(this).click()});return!0},localityautocomplete:function(){var e,i=Property.Autocomplete,o=i.helpers,s=i.add,h=o.capitalize,t=n("#spc_locality [data-contains=view-all]"),c=n("#spclcfcity").html(),u,r,f;e="/common/home_ajaxv5.aspx?term=citylocality&catid=2&city="+c+"&ran=1";u=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:Infinity,prefetch:{url:e,filter:function(t){return n.map(t,function(n){return{name:n}})},ttl:36e5}});u.initialize();r=n("#spc_locality .typeahead");f={om:"old mahabalipuram road",omr:"old mahabalipuram road",ec:"east coast road",ecr:"east coast road","t n":"t.nagar","t na":"t.nagar"};r.typeahead({highlight:!0},{name:"localities",displayKey:"name",source:function(i,r){var e=[],o;for(o in f)i.toLowerCase()===o&&u.get(f[o],function(n){if(n)for(var t in n)e.push(n[t])});u.get(i,function(i){i=i||[];for(var u in e)i.push(e[u]);i.length&&(r(n.grep(i,function(t){var i=n("#spc_locality").attr("data-selected");return n.inArray(h(t.name),i.split(","))===-1})),t.hide())})},templates:{empty:'<p class="empty-message">Sorry, we don\'t seem to have any localities matching your query at the moment.<\/p>'}}).on("#spc_locality typeahead:selected typeahead:autocompleted",function(n,u){s(u.name);r.typeahead("val","");i.needViewAll&&t.show()}).on("keydown",function(n){n.keyCode===8&&r.typeahead("val").length===1&&i.needViewAll&&t.show();n.keyCode===9&&t.hide()}).on("focus click",function(u){u.stopPropagation();n("#spc_ctrl_location").removeClass("error");r.typeahead("val")===""?i.needViewAll&&t.show():t.hide()});return!0},add:function(t){var f=Property.Autocomplete,u=f.helpers,e=u.capitalize,o=u.removeEmptyEntries,r,i;if(typeof t=="string"&&t){if(t=e(t),r=n("#spc_locality"),i=r.attr("data-selected").split(","),o(i),i.length===10)return alert("A maximum of 10 localities is allowed. Please try removing some if you wish to add this locality."),!1;n("#spc_locality .add-localities").length?n.inArray(t,i)===-1&&(n("#spc_locality .add-localities span").removeClass().parent().removeClass("nodrop"),n("#spc_locality .add-localities span").html(u.LocalityLength(i[0])+" +"+i.length),i.length===1&&r.find("#divlocalitylist ul").append('<li data-value="'+i[0]+'">'+i[0]+' <span class="right">X <\/span><\/li>'),r.find("#divlocalitylist ul").append('<li data-value="'+t+'">'+t+' <span class="right">X <\/span><\/li>')):n("#spc_locality .dropdown dt").append('<a class="add-localities nodrop"><span class="singleloc">'+t+'<b class="right">X <\/b><\/span><\/a>');i.push(t);i.push("");r.attr("data-selected",i.join(","));Property.GAP.TrackeEvent({event:"locationentered_lcf_pages_2",action:"submit",leadstatus:"location_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertylocation:i.join(",")});n("#spc_locality .tt-hint, #spc_locality .tt-input").css("width","215px")}return!0},Init:function(){var i=t.Property.Autocomplete,r;i.initCityLocalities("city");r=n("#spclcfcity").html();i.initCityLocalities("locality");i.registerHandlers()}};t.Property.Autocomplete.Init()}(jQuery,window),function(n,t){var r="",i="",u="";t.Property.LCF={config:{PropertyTypes:{Residential:"residential-property",Commercial:"commercial-property"}},LCFSimilarPropertiesSubmit:function(){var t,i;if(Simi=0,t=[],i="",n(".ads_Checkbox:checked").each(function(){t[Simi++]=n(this).val()}),n("#LCFload").removeClass("hide"),t.length==0)return n("#errormsg_LCF").removeClass("hide"),n("#LCFload").addClass("hide"),n("#btnView").addClass("hide"),!1;n("#errormsg_LCF").addClass("hide");n("#btnView").removeClass("hide");var o=autocompletemain.get("spc_city"),s=autocompletemain.get("spc_locality"),r=autocompletemain.get("spc_propertytype"),h=autocompletemain.get("spc_fromprice"),c=autocompletemain.get("spc_toprice"),l=autocompletemain.get("spc_bedroom"),u=n("#spc_username").val(),f=n("#spc_usermobile").val(),e=n("#spc_useremail").val();n("#LCFload").removeClass("hide");n.ajax({url:"/LCF/PostLCFLeadsDetails",type:"GET",data:{Name:u,Mobile:f,EMail:e,ResponseType:"1",ResponderType:"1",Respondedas:"1",CountryCode:"91",EnquiryCategory:r,MobileUserAgent:"0",AdsID:t.join(),ProjectID:"0",LCFID:"0"},success:function(t){t!=null&&t!=undefined?(n("#LCFload").addClass("hide"),n("#thank-msg").addClass("hide"),n("#thank-msg-laststep").removeClass("hide"),n("#ThanksLastStepLCF").html(""),n("#ThanksLastStepLCF").html(t)):(n("#LCFload").addClass("hide"),window.setTimeout(Property.LCF.closeLCF(),2e3))}})},catid:2,needOTPoption:!0,helpers:{removeEmptyEntries:function(n){if(!(n instanceof Array))throw new Error("Only Arrays can be passed to this function");for(var t=0;t<n.length;)n[t]==null||n[t]===""?n.splice(t,1):t++;return n},indianText:function(n){var u=typeof n=="undefined";if(u||(u=typeof n!="string"&&typeof n!="number"&&!(n instanceof Number)&&!(n instanceof String)||(typeof n=="string"||n instanceof String)&&isNaN(parseInt(n))),u)throw new Error("Invalid Arguments");var t,f=n>=0?"":"-",r=n>=0?n:-n,i="";return r>=1e7?(t=Math.floor(r/1e5)/100,i="crore",t>1&&(i+="s")):r>=1e5?(t=Math.floor(r/1e3)/100,i="lakh",t>1&&(i+="s")):t=r,f+t+(i?" "+i:"")},generateArray:function(n,t,i){for(var r=[n];r[r.length-1]<t;)r.push(r[r.length-1]+i);return r[r.length-1]!=t&&r.push(t),r},setCategoryType:function(t,i,r){var f=Property.LCF,e=f.config.PropertyTypes,u;r?(t=="chkRPT"?((n("#spc_propertytype dt").find("span").attr("data-selected")==e.Commercial||n("#spc_propertytype dt").find("span").attr("data-selected")=="offer")&&(n('#spc_propertytype .checkmark [name="chkCPT"]').each(function(){var t=n(this);t.prop("checked",!1);t.removeClass("checked")}),n("#spc_propertytype").attr("data-selected","")),f.catid==411?n("#spc_propertytype dt").find("span").attr("data-selected","need").html(""):n("#spc_propertytype dt").find("span").attr("data-selected",e.Residential).html("")):t=="chkCPT"&&((n("#spc_propertytype dt").find("span").attr("data-selected")==e.Residential||n("#spc_propertytype dt").find("span").attr("data-selected")=="need")&&(n('#spc_propertytype .checkmark [name="chkRPT"]').each(function(){var t=n(this);t.prop("checked",!1);t.removeClass("checked")}),n("#spc_propertytype").attr("data-selected","")),f.catid==411?n("#spc_propertytype dt").find("span").attr("data-selected","offer").html(""):n("#spc_propertytype dt").find("span").attr("data-selected",e.Commercial).html("")),u=n("#spc_propertytype").attr("data-selected"),u&&u.toLowerCase()!="select property type"||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.push(i),Property.GAP.TrackeEvent({event:"propertytypeentered_lcf_pages_2",action:"submit",leadstatus:"propertytype_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertytype:u.toString().replace(/^,|,$/ig,"")})):(t=="chkRPT"?f.catid==411?n("#spc_propertytype dt").find("span").attr("data-selected","need").html(""):n("#spc_propertytype dt").find("span").attr("data-selected",e.Residential).html(""):t=="chkCPT"&&(f.catid==411?n("#spc_propertytype dt").find("span").attr("data-selected","offer").html(""):n("#spc_propertytype dt").find("span").attr("data-selected",e.Commercial).html("")),n('#spc_propertytype input[type="checkbox"]:checked').length||(f.catid==411?n("#spc_propertytype dt").find("span").html("Select roommates type"):f.catid==1?n("#spc_propertytype dt").find("span").html("Select rental type"):n("#spc_propertytype dt").find("span").html("Select property type")),u=n("#spc_propertytype").attr("data-selected"),u&&u.toLowerCase()!="select property type"||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.splice(n.inArray(i,u),1));n("#spc_propertytype").attr("data-selected",u.toString().replace(/^,|,$/ig,""));u=f.helpers.removeEmptyEntries(u);u.length>0&&(u[0]&&n("#spc_propertytype").find("span").append(u[0].replace("Commercial: ","")),u[1]&&n("#spc_propertytype").find("span").append(", "+u[1].replace("Commercial: ","")),u.length>2&&(n("#spc_propertytype").find("span b").remove(),n("#spc_propertytype").find("span").append("<b> +"+(parseInt(u.length)-2)+"<\/b>")));n("#spc_ctrl_bedroom").show();n("#spc_ctrl_bedroom").removeClass("noactive");(n("#spc_propertytype input:checkbox[data-value='Plots / Land']").is(":checked")==!0||n("#spc_propertytype input:checkbox[data-value='Agricultural Land/Farmland']").is(":checked")==!0||t!="chkRPT")&&(n("#spc_ctrl_bedroom").hide(),n("#spc_ctrl_bedroom").addClass("noactive"))},toUrlstr:function(n){return n.replace(/(\s*\-\s*|\s|\\|\/|\.|'|:)+/g,"-").toLowerCase().replace(/(\(|\))+/g,"").replace(/\-$/,"")},getQuerystring:function(t,i){i==null&&(i="");t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var u=new RegExp("[\\?&]"+t+"=([^&#]*)"),r=u.exec(window.location.href);return r==null?unescape(n.trim(i)):unescape(n.trim(r[1]))},LCFwritecookie:function(n,t,i,r){Sulekha.Common.setCookie(n,t,r,"")},emailValidation:function(n){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},mobileValidation:function(n){return/^\d{10}$/.test(n)?n.substring(0,1)!="9"&&n.substring(0,1)!="8"&&n.substring(0,1)!="7"&&n.substring(0,1)!="6"||n.substring(0,10)=="9999999999"||n.substring(0,10)=="8888888888"||n.substring(0,10)=="7777777777"||n.substring(0,10)=="6666666666"?!1:!0:!1},toBedroomId:function(n){if(n==null)throw new Error("Only numbers can be passed");switch(n.toLowerCase()){case"1-bhk":return 1;case"2-bhk":return 2;case"3-bhk":return 3;case"4-bhk":return 4;case"1-hall":return 5;case"1-rk":return 6;case"2-rk":return 7;case"4-plus-bhk":return 10;default:return null}},OnlyNum:function(n){if(navigator.appName!="Netscape"){if(n=n||window.event,!(n.keyCode>47)||!(n.keyCode<58))return!1}else if(n=n||window.event,(!(n.charCode>47)||!(n.charCode<58))&&n.charCode!=0)return!1},OnlyAlpha:function(n){if(navigator.appName!="Netscape"){if(n=n||window.event,(!(n.keyCode>64)||!(n.keyCode<91))&&(!(n.keyCode>96)||!(n.keyCode<123))&&n.keyCode!=32)return!1}else if(n=n||window.event,(!(n.charCode>64)||!(n.charCode<91))&&(!(n.charCode>96)||!(n.charCode<123))&&n.charCode!=32&&n.charCode!=0)return!1},process:function(t,i){n("#"+t).addClass("hide");n("#"+i).removeClass("hide")},closeAll:function(){var t=[];t.push(".dropselect .droplist");t.push("[class*=popup]");t.push("[data-contains=view-all]");n(t.toString()).hide();n(".error-tip").hide()},closeAllBut:function(n){var t=!1;n.is(":visible")&&(t=!0);this.closeAll();t&&n.show()},toggle:function(n,t){t||(t="slideToggle");this.closeAllBut(n);n.css("display")=="none"?n.show():n.hide()}},LCFwritecookie:function(n,t,i,r){Sulekha.Common.setCookie(n,t,r,"")},registerClicks:function(){var r=Property.LCF,i=r.helpers,u=i.closeAll;n(".modal.base-lcf").on("click",".dropdown dt",function(t){t.preventDefault();t.stopPropagation();i.toggle(n(this).siblings(".dropselect").find(".droplist"));n("#spc_city .dropdown dd .droplist .select-search input").focus()});n(".modal.base-lcf").on("click","#spc_propertytype .checkmark",function(t){t.preventDefault();t.stopPropagation();var u=n(this),r=u.find('input[type="checkbox"]'),f=r.attr("class"),e=u.parent().find(".checked");f?(r.prop("checked",!1),r.removeClass("checked"),i.setCategoryType(r.attr("name"),r.attr("data-value"),0)):(r.prop("checked",!0),r.addClass("checked"),i.setCategoryType(r.attr("name"),r.attr("data-value"),1))});n(".modal.base-lcf").on("click",".close-btn",function(){n("#LCFOTPForm").is(":visible")&&r.savelcfleads(0,"close");Property.LCF.closeLCF();Property.GAP.TrackeEvent({event:"formcloseclick_lcf_pages_11",action:"click",leadstatus:"form_close",pagesection:"overlay",usertype:"customer"})});n(".modal.base-lcf").on("click","[id*=price] .dropdown .dropselect .droplist ul li",function(t){var f,s;t.preventDefault();t.stopPropagation();var e=n(this),i=e.attr("data-value"),o=e.html(),r=e.parents().eq(4);i==0?(o="",r.attr("id")=="spc_fromprice"&&(n("#spc_fromprice .dropdown ").find("span").html('<em class="hide-mob">Min<\/em><em class="show-mob">Price<\/em>'),n("#spc_fromprice").attr("data-selected","").removeClass("no-error")),r.attr("id")=="spc_toprice"&&(n("#spc_toprice .dropdown ").find("span").html("Max"),n("#spc_toprice").attr("data-selected","").removeClass("no-error"),i=n("#spc_fromprice").attr("data-selected")),Property.LCF.initprice("","spc_toprice",parseInt(i))):(i!=">5 crores"?r.attr("data-selected",i):r.attr("data-selected",5e7),r.attr("id")=="spc_fromprice"?(r.find("span").html(o),n("#spc_fromprice").addClass("no-error"),f=n("#spc_toprice"),s=f.attr("data-selected"),parseInt(s)<=parseInt(i)&&(f.attr("data-selected",""),f.find("span").html("Max").removeClass("no-error")),Property.LCF.initprice("","spc_toprice",parseInt(i))):(r.find("span").html(o),n("#spc_toprice").addClass("no-error")));n("#spc_fromprice").attr("data-selected")!=""&&n("#spc_fromprice").attr("data-selected")!=undefined&&Property.GAP.TrackeEvent({event:"minpriceentered_lcf_pages_4",action:"submit",leadstatus:"minprice_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertyprice:n("#spc_fromprice").attr("data-selected")+"-"+n("#spc_toprice").attr("data-selected")});n("#spc_toprice").attr("data-selected")!=""&&n("#spc_toprice").attr("data-selected")!=undefined&&Property.GAP.TrackeEvent({event:"maxpriceentered_lcf_pages_5",action:"submit",leadstatus:"maxprice_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertyprice:n("#spc_fromprice").attr("data-selected")+"-"+n("#spc_toprice").attr("data-selected")});var h=Property.Autocomplete,c=h.get("spc_fromprice"),l=h.get("spc_toprice");c!=""&&l!=""&&n("#spc_ctrl_price").removeClass("error");u()});n(".modal.base-lcf").on("click","#spc_bedroom .checkmark",function(t){var o,c;t.preventDefault();t.stopPropagation();var s=n(this),e=s.find('input[type="checkbox"]'),h=e.attr("data-value"),l=e.attr("class"),a=s.parent().find(".checked"),f=n("#spc_bedroom"),u=f.attr("data-selected");l?(e.prop("checked",!1),e.removeClass("checked"),u||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.splice(n.inArray(h,u),1),f.attr("data-selected",u.toString().replace(/^,|,$/ig,""))):(e.prop("checked",!0),e.addClass("checked"),u||(u=""),u=u.replace(/^,|,$/ig,"").split(","),u.push(h),f.attr("data-selected",u.toString().replace(/^,|,$/ig,"")),Property.GAP.TrackeEvent({event:"bedroomsentered_lcf_pages_6",action:"submit",leadstatus:"bedrooms_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertybedrooms:u.toString().replace(/^,|,$/ig,"")}));o=i.removeEmptyEntries(u);o.length>1?f.find("span").html("Multiple"):o.length==1?(c=n("#spc_bedroom .checkmark .checked").parent().text()+"",f.find("span").html(c.replace("-"," ").toUpperCase())):r.catid==411?f.find("span").html("Gender"):f.find("span").html("Bedrooms")});n(".modal.base-lcf").on("click",".otp-verify .button.primary",function(n){n.preventDefault();n.stopPropagation();Property.LCF.Checkverificationcode()});n(".modal.base-lcf").on("click","#aResendSMS",function(t){t.preventDefault();t.stopPropagation();r.Resend_verificationCode();autocompletemain=Property.Autocomplete;Property.GAP.TrackeEvent({event:"resendcodeclick_otp_popup_28",action:"click",leadstatus:"resendcode_complete",pagesection:"overlay",lcfresponselocation:"otpverify",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertytype:i.toUrlstr(autocompletemain.get("spc_propertytype")),propertylocation:autocompletemain.get("spc_locality"),currentcity:autocompletemain.get("spc_city"),propertybedrooms:autocompletemain.get("spc_bedroom"),propertyprice:autocompletemain.get("spc_fromprice")+"-"+autocompletemain.get("spc_toprice"),previouscity:autocompletemain.get("spc_city")})});n(".modal.base-lcf").on("click","#aSkipVerification",function(n){n.preventDefault();n.stopPropagation();r.savelcfleads(0,"")});n(".modal.base-lcf").on("click",".button.submit",function(n){n.preventDefault();n.stopPropagation();u();Property.LCF.lcf_submitfirststep()});n(".modal.base-lcf").on("click",".control-group .controls input",function(t){t.preventDefault();t.stopPropagation();n(this).focus();n(this).parent().parent().removeClass("error");n("#pError").is(":visible");n("#pError").html("")});n(".modal.base-lcf").on("click",".control-group .dropdown dt",function(t){t.preventDefault();t.stopPropagation();n(this).parent().parent().parent().removeClass("error")});n(".modal.base-lcf").on("click","#LCFOTPForm .back",function(t){t.preventDefault();t.stopPropagation();n("#LCFEntryForm").removeClass("hide");n("#LCFOTPForm").addClass("hide")});n(".modal.base-lcf").on("click","#zipdial_misscall",function(t){t.preventDefault();t.stopPropagation();r.zipdial_missedcall();Property.GAP.TrackeEvent({event:"aftermisscallclick_otp_popup_29",action:"click",leadstatus:"misscall_complete",pagesection:"overlay",lcfresponselocation:"otpverify",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertytype:i.toUrlstr(autocompletemain.get("spc_propertytype")),propertylocation:autocompletemain.get("spc_locality"),currentcity:autocompletemain.get("spc_city"),propertybedrooms:autocompletemain.get("spc_bedroom"),propertyprice:autocompletemain.get("spc_fromprice")+"-"+autocompletemain.get("spc_toprice"),previouscity:autocompletemain.get("spc_city")})});n(".modal.base-lcf").on("click",".control-group .actions input",function(){n(".control-group .actions input").parent().removeClass("error-txt")});n(".modal.base-lcf").on("change",".ads_Checkbox",function(){Simi=0;var t=[];if(n(".ads_Checkbox:checked").each(function(){t[Simi++]=n(this).val()}),t.length==0)return n("#errormsg_LCF").removeClass("hide"),n("#btnView").addClass("hide"),!1;n("#errormsg_LCF").addClass("hide");n("#btnView").removeClass("hide")});n("body").on("change","#spc_usermobile",function(){t.Property.LCF.CheckMobile()})},initCategoryType:function(){var f=Property.LCF,t=f.catid,r=[],u,i;r=t==1?{"Apartments / Flats":"Apartments / Flats","Individual Houses":"Individual Houses",Villas:"Villas / Beach House","Service Apartments":"Service Apartments","Guest House":"Guest House","Row House":"Row House"}:t==411?{"Paying Guests":"I Need a PG / Hostel",Roommates:"I Need a Room"}:{"Apartments / Flats":"Apartments / Flats","Individual Houses":"Individual Houses","Plots / Land":"Plots / Lands",Villas:"Villas","Builder/Independent Floors":"Builder/Independent Floors","Agricultural Land/Farmland":"Agricultural Land / Farmland","Row House":"Row House"};u=n("#spc_propertytype dd ul");i="";i=t==411?"<li>Need:<\/li>":"<li>Residential:<\/li>";n.each(r,function(n,t){i+='<li class="checkmark"><input name="chkRPT" id="'+n+'" type="checkbox" data-value="'+n+'" /><i><\/i>'+t+"<\/li>"});r=t==1?{"Commercial: Office Space":"Office Space","Commercial: Showrooms/Shops":"Showrooms / Shops","Commercial: Warehouse/Godown":"Warehouse / Godown","Commercial: Restaurant/Bar/Hotel":"Restaurant / Bar / Hotel","Commercial: Virtual Office":"Virtual Office","Industrial Space":"Industrial Space","Commercial: Others":"Others"}:t==411?{"Paying Guests":"I am Offering a PG / Hostel",Roommates:"I am Offering a Room"}:{"Commercial: Office Space":"Office Space","Commercial: Showrooms/Shops":"Showrooms / Shops","Commercial: Warehouse/Godown":"Warehouse / Godown","Commercial: Restaurant/Bar/Hotel":"Restaurant / Bar / Hotel","Commercial: Rent Earning Property":"Rent Earning Property","Industrial Space":"Industrial Space","Commercial: Others":"Others"};i+=t==411?"<li>Offer:<\/li>":"<li>Commercial:<\/li>";n.each(r,function(n,t){i+='<li class="checkmark"><input name="chkCPT" id="'+n+'" type="checkbox" data-value="'+n+'"  /><i><\/i>'+t+"<\/li>"});u.html(i)},initprice:function(t,i,r){var u,l=Property.LCF,f=l.helpers,o=l.catid,c,e,s,h;if(o==1||o==411)if(r==0)u=f.generateArray(1e3,9e3,1e3),Array.prototype.push.apply(u,f.generateArray(1e4,28e3,2e3)),Array.prototype.push.apply(u,f.generateArray(3e4,65e3,5e3)),Array.prototype.push.apply(u,f.generateArray(7e4,9e4,1e4)),Array.prototype.push.apply(u,f.generateArray(1e5,175e3,25e3)),o==1?(Array.prototype.push.apply(u,f.generateArray(2e5,95e4,5e4)),Array.prototype.push.apply(u,f.generateArray(1e6,19e5,1e5)),Array.prototype.push.apply(u,f.generateArray(2e6,9e6,5e5))):Array.prototype.push.apply(u,f.generateArray(2e5,5e5,5e4));else for(c=9e6,e=1e3,c=o==1?9e6:5e5;r<=c;)r<=9e3?e=1e3:r>9e3&&r<=28e3?e=2e3:r>28e3&&r<=65e3?e=5e3:r>65e3&&r<=9e4?e=1e4:r>9e4&&r<=175e3?e=25e3:r>175e3&&r<=95e4?e=5e4:r>95e4&&r<=19e5?e=1e5:r>19e5&&r<=9e6&&(e=5e5),r+=e,u?u.push(r):u=[r];o==2&&(r==0?(u=f.generateArray(0,95e5,5e5),u[0]=1e5,Array.prototype.push.apply(u,f.generateArray(1e7,5e7,25e5))):r<95e5?(r+=r==1e5?4e5:5e5,u=f.generateArray(r,95e5,5e5),Array.prototype.push.apply(u,f.generateArray(1e7,5e7,25e5))):r>=95e5&&r<5e7&&(r+=r==95e5?5e5:25e5,u=f.generateArray(r,5e7,25e5)));s="";for(h in u)u.hasOwnProperty(h)&&(s+='<li data-value="'+u[h]+'">'+f.indianText(u[h])+"<\/li>");r==0&&t&&i&&(n("#"+t+" .dropdown ").find("span").html('<em class="hide-mob">Min<\/em><em class="show-mob">Price<\/em>'),n("#"+i+" .dropdown ").find("span").html("Max"),$item=n("#"+t+" .dropdown .dropselect .droplist ul"),$item.html("<li data-value=0>Min &#8377;<\/li>"+s));o==2&&(s+='<li data-value=">5 crores">>5 crores<\/li>');$item=n("#"+i+" .dropdown .dropselect .droplist ul");$item.html("<li data-value=0>Max &#8377;<\/li>"+s)},initbedroom:function(){var r=Property.LCF,u=Property.Autocomplete,f=r.catid,t=[],e=n("#spc_bedroom dd ul"),i="",o=u.get("spc_city")+"";t=f===411?{male:"Male",female:"Female"}:{"1-bhk":"1 BHK","2-bhk":"2 BHK","3-bhk":"3 BHK","4-bhk":"4 BHK","4-plus-bhk":"4+ BHK","1-hall":"1 HALL","1-rk":"1 RK","2-rk":"2 RK"};n.each(t,function(n,t){i+='<li class="checkmark"><input name="chkBED" type="checkbox" id="bedroom'+n+'" data-value="'+n+'" /><i><\/i>'+t+"<\/li>"});e.html(i)},defaults:function(){var d=Property.LCF,f=d.helpers,o=n("#spc_propertytype").attr("data-selected"),c=n("#spc_fromprice").attr("data-selected"),l=n("#spc_toprice").attr("data-selected"),s=n("#spc_bedroom").attr("data-selected"),w=n("#pagetype").length>0?n("#pagetype").val():"",a="Properties",t,u,b,e;n.isEmptyObject(o)||(o=o.replace(/^,|,$/ig,"").split(","),o=f.removeEmptyEntries(o),n(o).each(function(){n('#spc_propertytype .checkmark [data-value="'+this+'"]').prop("checked",!0);n('#spc_propertytype .checkmark [data-value="'+this+'"]').addClass("checked")}),o.length==1&&o[0]!="Select Property Type"&&(a=o[0]));n.isEmptyObject(c)||(t="",c.toLowerCase().indexOf("lakh")>=0?(t=c.toLowerCase().replace(" lakhs","").replace(" lakh",""),t=parseInt(t)>0?t*1e5:t):c.toLowerCase().indexOf("crore")>=0&&(t=c.toLowerCase().replace(" crores","").replace(" crore",""),t=parseInt(t)>0?t*1e7:t),t!=""&t!="0"&&(n("#spc_fromprice dl dt").find("span").html(f.indianText(t)),n("#spc_fromprice").attr("data-selected",t),d.initprice("","spc_toprice",parseInt(t))));n.isEmptyObject(l)||(u="",l.toLowerCase().indexOf("lakh")>=0?(u=l.toLowerCase().replace(" lakhs","").replace(" lakh",""),u=parseInt(u)>0?u*1e5:u):l.toLowerCase().indexOf("crore")>=0&&(u=l.toLowerCase().replace(" crores","").replace(" crore",""),u=parseInt(u)>0?u*1e7:u),u!=""&u!="0"&&(n("#spc_toprice dl dt").find("span").html(f.indianText(u)),n("#spc_toprice").attr("data-selected",u)));n.isEmptyObject(s)||(b="",s=s.replace(/^,|,$/ig,"").split(","),s=f.removeEmptyEntries(s),n(s).each(function(){n('#spc_bedroom .checkmark [data-value="'+f.toUrlstr(this)+'"]').prop("checked",!0);n('#spc_bedroom .checkmark [data-value="'+f.toUrlstr(this)+'"]').addClass("checked");b+=f.toUrlstr(this)+","}),n("#spc_bedroom").attr("data-selected",b));var v=f.getQuerystring("na"),y=f.getQuerystring("mo"),p=f.getQuerystring("Em");try{n("spr_name")&&n("#spr_name").val()!=""&&n.trim(n("#spr_name").val())!="Your Name"&&n.trim(n("#spr_name").val())!="Your+Name"&&(v=n("#spr_name").val());n("spr_email")&&n("#spr_email").val()!=""&&n.trim(n("#spr_email").val())!="Email address"&&n.trim(n("#spr_email").val())!="Email+address"&&(p=n("#spr_email").val());n("spr_mobile")&&n("#spr_mobile").val()!=""&&n.trim(n("#spr_mobile").val())!="10 digit mobile number"&&n.trim(n("#spr_mobile").val())!="10+digit+mobile+number"&&(y=n("#spr_mobile").val());v!=""&&v!="Your+Name"&&n("#spc_username").val(v);y!=""&&y!="10+digit+mobile+number"&&n("#spc_usermobile").val(y);p!=""&&p!="Email+address"&&n("#spc_useremail").val(p)}catch(tt){return console.log("Couldn't init LCF"),!1}r=n("#hdnstrSEOTrack").val();n("#d_mycity")&&n("#d_mycity").val()&&(i=n("#d_mycity").val());n("#hdnPT")&&n("#hdnPT").val()&&(i+="_"+n("#hdnPT").val());e=n("#spc_propertytype").attr("data-selected");(e.indexOf("Plots")>-1||e.indexOf("Agricultural")>-1||e.indexOf("Office")>-1||e.indexOf("Showrooms")>-1||e.indexOf("Warehouse")>-1||e.indexOf("Restaurant")>-1||e.indexOf("Rent Earning")>-1||e.indexOf("Industrial")>-1||e.indexOf("Commercial")>-1)&&(n("#spc_ctrl_bedroom").hide(),n("#spc_ctrl_bedroom").addClass("noactive"));try{if(w=="PropertyAdListings"||w=="PropertyAdKeywordListings"||w=="ProjectAdListings"){var nt=n("#hdnRoundedTotalCount").val(),k=Property.Autocomplete.get("spc_city"),h=Property.Autocomplete.get("spc_locality"),g=k;a=a.replace("Commercial:","Commercial");h&&(h=f.removeEmptyEntries(h.split(",")).join(","),g=n.isEmptyObject(h)||h.indexOf(",")>-1?k:h+", "+k);$SUL("#LCFEntryForm .title h3").html(nt+" "+a+" available to buy in "+g);$SUL("#LCFEntryForm .title p").html("Please tell us your exact property requirement and we can show matching properties")}}catch(tt){return console.log("Error in Title Change"),!1}},validation:function(){var c=Property.LCF,f=c.helpers,t=Property.Autocomplete,l=t.get("spc_city"),a=t.get("spc_locality"),e=t.get("spc_propertytype"),i=t.get("spc_fromprice"),o=t.get("spc_toprice"),s=t.get("spc_bedroom"),h=n("#spc_username").val(),r=n("#spc_usermobile").val(),u=n("#spc_useremail").val();if(n("#spc_city").length&&n.trim(l)=="")return n("#spc_ctrl_city").addClass("error"),!1;if(n("#spc_locality").length&&n.trim(a)=="")return n("#spc_ctrl_location").addClass("error"),!1;if(n("#spc_propertytype").length&&(n.trim(e)==""||n.trim(e).toLowerCase()=="select property type"))return n("#spc_ctrl_propertytype").addClass("error"),!1;if(n("#spc_fromprice").is(":visible")){if(n("#spc_fromprice").length&&(n.trim(i)==""||n.trim(i).toLowerCase()=="min"||n.trim(i).toLowerCase()=="price"))return n("#spc_ctrl_price").addClass("error"),n("#spc_fromprice").removeClass("no-error"),!1;n("#spc_fromprice").addClass("no-error")}if(n("#spc_toprice").is(":visible")){if(n("#spc_toprice").length&&(n.trim(o)==""||n.trim(o).toLowerCase()=="max"))return n("#spc_ctrl_price").addClass("error"),n("#spc_toprice").removeClass("no-error"),!1;n("#spc_toprice").addClass("no-error")}return n("#spc_bedroom").is(":visible")&&n("#spc_bedroom").length&&!n("#spc_ctrl_bedroom").hasClass("noactive")&&(n.trim(s)==""||n.trim(s).toLowerCase()=="bedrooms")?(n("#spc_ctrl_bedroom").addClass("error"),!1):n("#spc_username").length&&(n.trim(h)==""||n.trim(h).toLowerCase()=="your name")?(n("#spc_ctrl_username").addClass("error"),!1):n("#spc_usermobile").length&&(n.trim(r)==""||n.trim(r).toLowerCase()=="10 digit mobile number")?(n("#spc_ctrl_usermobile").addClass("error"),!1):f.mobileValidation(r)?n("#spc_useremail").length&&(n.trim(u)==""||n.trim(u).toLowerCase()=="email adress")?(n("#spc_ctrl_useremail").addClass("error"),!1):f.emailValidation(u)?n(".control-group .actions input").is(":checked")==!1?(n(".control-group .actions input").parent().addClass("error-txt"),!1):!0:(n("#spc_ctrl_useremail").addClass("error"),!1):(n("#spc_ctrl_usermobile").addClass("error"),!1)},lcf_submitfirststep:function(){var t=Property.LCF,f=t.helpers,c=n.trim(n("#spc_username").val()),e=n.trim(n("#spc_usermobile").val()),o=n.trim(n("#spc_useremail").val()),s,u,h;t.validation()&&(f.process("LCFEntryForm","LCFload"),property.lcfv2.CloseLCFModal(),t.needOTPoption?(s="",u=n("#pagetype").length>0?n("#pagetype").val():"",u+="-LCF",h="/verification/ajax?rt=isverifiedByMobile_new&spr_name="+c+"&spr_email="+o+"&spr_mobile="+e+"&isnri="+s+"&pagename="+u,n.ajax({type:"POST",url:h,processData:!0,dataType:"json",data:n("#LCFEntryForm").serialize(),success:t.lcf_submitfirststep_callback}),_gaq.push(["_trackEvent","UX","LCF-LEADSUBMIT_SEM-OVERLAY-V1_"+r,i,0,!0]),autocompletemain=Property.Autocomplete,Property.GAP.TrackeEvent({event:"submitclick_lcf_pages_10",action:"submit",leadstatus:"submit",pagesection:"overlay",usertype:"customer",lcfresponselocation:"submit",email:o,phone:e,propertylocation:autocompletemain.get("spc_locality"),propertybedrooms:autocompletemain.get("spc_bedroom"),propertytype:f.toUrlstr(autocompletemain.get("spc_propertytype")),propertyprice:autocompletemain.get("spc_fromprice")+"-"+autocompletemain.get("spc_toprice")})):t.savelcfleads(0,""))},CheckMobile:function(){var r="2",t=n("#pagetype").val(),u=n("#spc_usermobile").val(),i=n("#spc_useremail"),f;u.match(/^[6-9]{1}[0-9]{9}$/)&&i!=undefined&&(i.val()==""||i.val()=="Email Address")&&(t=t==undefined?"":t.toLowerCase(),(t=="rentaladlistings"||t=="rentaladdetails")&&(r="1"),f="//apiprop.sulekha.com/ashx/ResponseUtility.ashx?rdtype=isverifiedmobile&mobile="+u+"&categoryid="+r+"&source=lcf",n.ajax({url:f,type:"GET",dataType:"jsonp"}))},keypressOTPEntered:function(t){autocompletemain=Property.Autocomplete;t=="verifyCode"&&n("#"+t).val().toLowerCase()!="otp"&&Property.GAP.TrackeEvent({event:"otpentered_lcf_pages_26",action:"submit",leadstatus:"otp_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertytype:Property.LCF.helpers.toUrlstr(autocompletemain.get("spc_propertytype")),propertylocation:autocompletemain.get("spc_locality"),currentcity:autocompletemain.get("spc_city"),propertybedrooms:autocompletemain.get("spc_bedroom"),propertyprice:autocompletemain.get("spc_fromprice")+"-"+autocompletemain.get("spc_toprice"),previouscity:autocompletemain.get("spc_city")})},btnverification:function(t){autocompletemain=Property.Autocomplete;t=="verifyCode"&&n("#"+t).val().toLowerCase()!="otp"&&Property.GAP.TrackeEvent({event:"verifyclick_otp_popup_27",action:"click",leadstatus:"otp_complete",pagesection:"overlay",lcfresponselocation:"otpverify",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val(),propertytype:Property.LCF.helpers.toUrlstr(autocompletemain.get("spc_propertytype")),propertylocation:autocompletemain.get("spc_locality"),currentcity:autocompletemain.get("spc_city"),propertybedrooms:autocompletemain.get("spc_bedroom"),propertyprice:autocompletemain.get("spc_fromprice")+"-"+autocompletemain.get("spc_toprice"),previouscity:autocompletemain.get("spc_city")})},blurvalidation:function(t){t=="spc_username"&&n("#"+t).val().toLowerCase()!="your name"&&Property.GAP.TrackeEvent({event:"nameentered_lcf_pages_7",action:"submit",leadstatus:"name_complete",pagesection:"overlay",usertype:"customer"});t=="spc_useremail"&&n("#"+t).val().toLowerCase()!="email address"&&Property.GAP.TrackeEvent({event:"emailentered_lcf_pages_9",action:"submit",leadstatus:"email_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val()});t=="spc_usermobile"&&n("#"+t).val().toLowerCase()!="10 digit mobile number"&&Property.GAP.TrackeEvent({event:"mobileentered_lcf_pages_8",action:"submit",leadstatus:"mobile_complete",pagesection:"overlay",usertype:"customer",email:n("#spc_useremail").val(),phone:n("#spc_usermobile").val()})},lcf_submitfirststep_callback:function(t){var u=Property.LCF,r=u.helpers,i=jQuery.parseJSON(t);if(i!=null){var f=i.VerificationStatus,e=i.isbroker,o=i.isblocked;if(e=="1")return r.process("LCFload","LCFOTPForm"),n("#LCFEntryForm").addClass("hide"),n("#LCFOTPForm").addClass("hide"),n("#ModalAlert1").removeClass("hide"),!1;o=="1"?(r.process("LCFload","LCFOTPForm"),n("#LCFEntryForm").addClass("hide"),n("#LCFOTPForm").addClass("hide"),n("#ModalAlert1").removeClass("hide")):f=="1"||f=="verified"?u.savelcfleads(1,""):(n("#otpmobile").html(i.VerificationMobile),n("#LCFOTPForm #verifyCode").val(""),r.process("LCFload","LCFOTPForm"))}},Checkverificationcode:function(){var u=Property.LCF,e=u.helpers,o=n.trim(n("#spc_username").val()),s=n.trim(n("#spc_usermobile").val()),h=n.trim(n("#spc_useremail").val()),t=n.trim(n("#verifyCode").val()),f;return t==""||t.length<6||t.indexOf("*")!=-1||Number(t)<1?(n("#verifyCode").parent().parent().addClass("error"),!1):(e.process("LCFOTPForm","LCFload"),f="/verification/ajax?rt=cvc&vc="+t+"&frm=1&spr_name="+o+"&spr_email="+h+"&spr_mobile="+s+"&isnri=",n.ajax({type:"POST",url:f,processData:!0,data:n("#LCFEntryForm").serialize(),dataType:"json",success:u.Checkverificationcode_callback}),_gaq.push(["_trackEvent","UX","LCF-CheckOTPVerification_SEM-OVERLAY-V1_"+r,i,0,!0]),!0)},Checkverificationcode_callback:function(t){var r=Property.LCF,f=r.helpers,u=jQuery.parseJSON(t),i;return u!=null?(i=u.VerificationStatus,i=="VERIFIED"||i=="ALREADY_VERIFIED"?(r.savelcfleads(1,""),!1):(f.process("LCFload","LCFOTPForm"),n("#pError").parent().parent().addClass("error"),n("#pError").html("Your verification code is incorrect."),!1)):!0},Resend_verificationCode:function(){var t=Property.LCF,s=t.helpers,f=n.trim(n("#spc_username").val()),e=n.trim(n("#spc_usermobile").val()),o=n.trim(n("#spc_useremail").val()),u;n("#pResend").html('<img src="//cdnspimgsulekhalive.azureedge.net/cdn/images/property/processloader.gif" />');u="/verification/ajax?rt=svc&spr_name="+f+"&spr_email="+o+"&spr_mobile="+e+"&isnri=&uostatus=";n.ajax({type:"POST",url:u,processData:!0,dataType:"json",data:n("#LCFOTPForm").serialize(),success:t.Resend_verificationCode_callback});_gaq.push(["_trackEvent","UX","LCF-ResentOTP_SEM-OVERLAY-V1_"+r,i,0,!0])},Resend_verificationCode_callback:function(){n("#pResend").html("Code Resent Successfull.")},zipdial_missedcall:function(){var t=Property.LCF,f=t.helpers,e=n.trim(n("#spc_username").val()),o=n.trim(n("#spc_usermobile").val()),s=n.trim(n("#spc_useremail").val()),u;n("#pZipError").html("");f.process("LCFOTPForm","LCFload");u="/verification/ajax?rt=zipdial_verify&frm=1&spr_name="+e+"&spr_email="+s+"&spr_mobile="+o+"&isnri=";n.ajax({type:"POST",url:u,processData:!0,data:n("#LCFEntryForm").serialize(),dataType:"json",success:t.zipdial_missedcall_callback});_gaq.push(["_trackEvent","UX","LCF-CheckZipDialVerification_SEM-OVERLAY-V1_"+r,i,0,!0])},zipdial_missedcall_callback:function(t){var r=Property.LCF,f=r.helpers,u=jQuery.parseJSON(t),i;return f.process("LCFload","LCFOTPForm"),i=u.VerificationStatus,i=u.VerificationStatus,i=="VERIFIED"||i=="ALREADY_VERIFIED"?(r.savelcfleads(1,""),!1):(n("#pZipError").html("We have not received your missed call. Please try again."),!1)},savelcfleads:function(t,f){var p=Property.LCF,e=p.helpers,l=Property.Autocomplete,nt=l.get("spc_city"),a=l.get("spc_locality"),v=e.toUrlstr(l.get("spc_propertytype")),tt=l.get("spc_fromprice"),it=l.get("spc_toprice"),o=l.get("spc_bedroom"),rt=n.trim(n("#spc_username").val()),ut=n.trim(n("#spc_usermobile").val()),ft=n.trim(n("#spc_useremail").val()),s=window.location.toString(),h="seo_lcf",w="",y=t,ot=n("#pagetype").length>0?n("#pagetype").val():"",st=n("#hdnbusinessid").length>0?n("#hdnbusinessid").val():0,et=n("#hdnProjectId").length>0?n("#hdnProjectId").val():0,ht=y==1?12:10,c,b,k,d,g;if(s=s.replace("?","?&"),s=s.replace(/&/g,";amp;"),s=s.replace(".aspx",".htm"),h="seo_lcf",s.indexOf("sem_overlay")!="-1"&&(h="sem_overlay"),n("#pagetype")&&(w=n("#pagetype").val()),o&&(c=o.split(","),n.inArray("",c)>-1&&c.splice(n.inArray("",c),1),c.length>0)){o="";for(b in c)o+=e.toBedroomId(c[b])+","}a&&(a=e.removeEmptyEntries(a.split(",")).join(","));v&&(v=e.removeEmptyEntries(v.split(",")).join(","));o&&(o=n("#spc_ctrl_bedroom").hasClass("noactive")?"":e.removeEmptyEntries(o.split(",")).join(","));u=window.location.href.search("utm_content=premium")!=-1?1:0;h=e.getQuerystring("utm_source");k=e.getQuerystring("utm_content");d=e.getQuerystring("utm_medium");h==""&&(h="LCF");g="&name="+rt+"&emailaddress="+ft+"&ph="+ut+"&cty="+nt+"&type="+v+"&possdate=0&site=101&urltrack="+s+"&utmsource="+h+"&utmcontent="+k+"&utmmedium="+d+"&HL=0&locality="+a+"&bedroom="+o+"&minprice="+tt+"&maxprice="+it+"&purpose=&ismobverified="+y+"&excludealchemy="+u+"&pagetype="+w+"&projectid="+et;n.ajax({type:"POST",url:"/common/lcf_realestate.aspx?ajax=register"+g,processData:!0,dataType:"json",success:function(n){p.savelcfleads_callback(n,f)}});y==1?_gaq.push(["_trackEvent","BusinessOutcomes","ContactAdv-Completed_LCF_V1-OTPVERIFIED_"+r,i]):_gaq.push(["_trackEvent","BusinessOutcomes","ContactAdv-Completed_LCF_V1-OTPNOTVERIFIED_"+r,i]);try{n("#imgGoogleConvertion").attr("src","//www.googleadservices.com/pagead/conversion/1044658860/?label=mr2hCLrr1WAQrPWQ8gM&guid=ON&script=0")}catch(ct){}},similarproperties_lcf:function(){var i=autocompletemain.get("spc_city"),r=autocompletemain.get("spc_locality"),u=autocompletemain.get("spc_propertytype"),f=autocompletemain.get("spc_fromprice"),e=autocompletemain.get("spc_toprice"),o=autocompletemain.get("spc_bedroom"),c=n("#spc_username").val(),s=n("#spc_usermobile").val(),l=n("#spc_useremail").val(),h=n("#hdnAdID").val(),t="";n("#LCFload").removeClass("hide");n("#pagetype")&&(t=n("#pagetype").val());n.ajax({url:"/LCF/GetSimilarPropertiesLCF",type:"GET",data:{City:i,Location:r,Category:u,Bedrooms:o,FromPrice:f,ToPrice:e,Mobile:s,Count:6,AdID:h},success:function(i){n("#LCFload").addClass("hide");i.trim().length>0&&i!=""&&i!=null&&i!=undefined?(n("#matchedrecordinit").addClass("hide"),n("#NewLCF").html(""),n("#NewLCF").html(i),n("#btnView").removeClass("hide")):(n("#matchedrecordinit").removeClass("hide"),n("#thank-msg").addClass("hide"),n("#thank-msg-laststep").addClass("hide"),n("#thank-msg-empty").removeClass("hide"),n("#btnView").addClass("hide"),t&&(t==="PropertyAdListings"||t==="PropertyAdKeywordListings")?window.setTimeout(Property.LCF.go("samepage"),2e3):window.setTimeout("Property.LCF.closeLCF();",3e3))}})},savelcfleads_callback:function(t,i){var u=Property.LCF,e=u.helpers,r="",f;u.LCFwritecookie("lcf_RE","2","",15);e.process("LCFload","thank-msg");t[0].thkhtml&&n("#LCFConversionCodes").html(t[0].thkhtml);i=="close"?n("#thank-msg").addClass("hide"):(n("#thank-msg").removeClass("hide"),n(".modal.base-lcf").addClass("advertiser-main-detail"),n("input:checkbox.lcf-filled-in").click(function(){n(this).is(":checked")||alert("you are unchecked "+n(this).val())}));n("#LCFEntryForm").is(":visible")&&n("#LCFEntryForm").addClass("hide");n("#LCFOTPForm").is(":visible")&&n("#LCFOTPForm").addClass("hide");n("#pagetype")&&(r=n("#pagetype").val());t!=null&&t[0]!=null&&t[0].resultid!=null&&(f="https://affiliates.adsplay.in/trackingcode_lead_condi.php?pgmid=13397&orderId="+t[0].resultid,n("#thank-msg").append('<iframe height="1" width="1" scrolling="no" frameborder="0" src="'+f+'"><\/iframe>'));r&&(r==="PropertyAdListings"||r==="PropertyAdKeywordListings")||(n("#LCFload").addClass("hide"),n("#pro-alert").length>0&&n("#pro-alert").html(""));Property.LCF.similarproperties_lcf()},GetRespondedFrom:function(n){switch(n){case"ProjectAdDetails":return 101;case"ProjectAdDetailsAgent":return 100;case"AgentDetails":return 103;case"BuilderDetails":return 102}},go:function(t){var d=Property.LCF,c=d.helpers,o=Property.Autocomplete,y="",l=o.get("spc_city"),p=o.get("spc_locality"),g=o.get("spc_propertytype"),w=o.get("spc_bedroom"),s=o.get("spc_fromprice"),h=o.get("spc_toprice"),r=window.location.protocol+"//"+window.location.hostname+"/",nt=window.location.href,f="#",b=!1,e,k,u,v;b||(w&&!n("#spc_ctrl_bedroom").hasClass("noactive")&&(e=w.split(","),n.inArray("",e)>-1&&e.splice(n.inArray("",e),1),e.length>0&&(e.length===1&&e[0]!="4-plus-bhk"?(k=e[0],r+=k+"-"):f+="bedroomsurl="+e+"&")),(s||h)&&(s&&h?r+=s/1e5+"-"+h/1e5+"-lakhs-":(s&&s!=0&&(f+="pricefrom="+s+"&"),h&&h!=0&&(f+="priceto="+h+"&"))));var tt=c.toUrlstr(""),a=c.toUrlstr(g),i="";if(a.indexOf(",")>-1?(i=tt||"property",f+="subcategoriesurl="+a+"&"):i=a,i==="")switch(y){case"properties":i="property";break;case"flats":i="apartments-flats";break;case"houses":i="individual-houses";break;case"plots":i="plots-land";break;case Propertyhp.config.PropertyTypes.Commercial:i="commercial-property";break;case"projects":i="new-projects";break;case"builders":i="property-builders";break;case"agents":i="real-estate-agents";break;default:i="property"}if(i+="-in-",r+=i,!b&&p&&l&&l.toLowerCase().indexOf("delhi/ncr")!=0&&(u=p.split(","),n.inArray("",u)>-1&&u.splice(n.inArray("",u),1),u.length>0))if(u.length===1)r+=c.toUrlstr(u[0])+"-";else{f+="localitiesurl=";for(v in u)u.hasOwnProperty(v)&&(f+=c.toUrlstr(u[v])+",");f+="&"}l&&(r+=c.toUrlstr(l));i!=="property-builders-in-"&&i!=="real-estate-agents-in-"&&(r+="-for-"+"sale".toLowerCase());r+=f==="?"?"":f.replace(/&$/,"");y=="buy"&&(r.indexOf("-lakhs-")!==-1||r.indexOf("-crores-")!==-1)&&(r+=(r.indexOf("?")!==-1?"&":"?")+"ref=searchhp");r!=nt?t=="samepage"?window.location.href=r:window.open(r,"_blank"):Property.LCF.closeLCF()},closeLCF:function(){n("body").attr("style","");n("#lcfPanelV1").addClass("hide");document.body.style.overflow="auto"},openLCF:function(){n("#lcfPanelV1").removeClass("hide")},Init:function(){var u=t.Property.LCF,e=u.helpers.getQuerystring("utm_source")+"",f;utmsorce=e.toLowerCase();window.location.toString().indexOf("#contact")!=-1||utmsorce.indexOf("mailer")>-1?(Property.LCF.closeLCF(),u.LCFwritecookie("lcf_RE","1","","")):(Property.LCF.openLCF(),f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f<=650&&n(".modal.base-lcf").css({top:"10px"}),u.LCFwritecookie("lcf_RE","1","",""),u.initCategoryType(),u.initprice("spc_fromprice","spc_toprice",0),u.initbedroom(),u.registerClicks(),u.defaults(),document.body.style.overflow="hidden",_gaq.push(["_trackEvent","UX","LCF-Displayed_SEM-OVERLAY-V1_"+r,i,0,!0]))}};t.Property.LCF.Init()}(jQuery,window)